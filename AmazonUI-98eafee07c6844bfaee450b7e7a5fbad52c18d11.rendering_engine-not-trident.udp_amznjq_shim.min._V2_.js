(function(m){m.execute(function(){amznJQ.available("jQuery",function(){m.register("jQuery",function(){return window.jQuery})})})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUIjQuery"):m}());
(function(m){m.execute(function(){m.when("jQuery").register("a-base",function(a){return{version:function(){return"3.0"},$:a}});m.when("a-base","p-weblab").register("a-util",function(a,k){var j=a.$,e=function(){function d(d,f,c){if(d!==null)if(Array.prototype.forEach&&d.forEach===Array.prototype.forEach)d.forEach(f,c);else if(d.length===+d.length)for(var a=0,g=d.length;a<g;a++){if(a in d&&f.call(c,d[a],a,d)===b)break}else for(a in d)if(d.hasOwnProperty(a)&&f.call(c,d[a],a,d)==={})break}var b={};return{each:d,
map:function(b,f,c){var a=[];if(b===null)return a;if(Array.prototype.map&&b.map===Array.prototype.map)return b.map(f,c);d(b,function(d,b,g){a[a.length]=f.call(c,d,b,g)});if(b.length===+b.length)a.length=b.length;return a},reduce:function(b,f,c,a){var g=arguments.length>2;b===null&&(b=[]);if(Array.prototype.reduce&&b.reduce===Array.prototype.reduce)return g?b.reduce(f,c):b.reduce(f);d(b,function(d,b,n){g?c=f.call(a,c,d,b,n):(c=d,g=!0)});g||m.error("Reduce of empty array with no initial value","A.util",
"reduce");return c},breaker:b}}(),i=function(){return{throttle:function(d,b,c){var a,g,l,h=null,i=0;c||(c={});var s=function(){i=c.leading===!1?0:f.now();h=null;l=d.apply(a,g);a=g=null};return function(){var e=f.now();!i&&c.leading===!1&&(i=e);var j=b-(e-i);a=this;g=arguments;j<=0?(clearTimeout(h),h=null,i=e,l=d.apply(a,g),a=g=null):!h&&c.trailing!==!1&&(h=setTimeout(s,j));return l}},debounce:function(d,b,c){var a,g,l,h,i,s=function(){var e=f.now()-h;e<b?a=setTimeout(s,b-e):(a=null,c||(i=d.apply(l,
g),l=g=null))};return function(){l=this;g=arguments;h=f.now();var e=c&&!a;a||(a=setTimeout(s,b));e&&(i=d.apply(l,g),l=g=null);return i}},delay:function(d,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return d.apply(null,c)},b)},interval:function(d,b){return setInterval(d,b)}}}(),h=function(){var d,b;d=/^\s+/;b=/\s+$/;return{trim:function(c){return String.prototype.trim?String.prototype.trim.call(c):c.replace(d,"").replace(b,"")},contains:function(d,b){return(""+d).indexOf(b)!==
-1}}}(),l=function(){function d(){for(var b=arguments[0],c=1,f=arguments.length;c<f;c++)e.each(arguments[c],function(c,f){var a;j.isArray(c)?(a=!j.isArray(b[f])&&!j.isPlainObject(b[f])?[]:b[f],b[f]=d(a,c)):j.isPlainObject(c)?(a=!j.isPlainObject(b[f])?{}:b[f],b[f]=d(a,c)):b[f]=c});return b}function b(d,c){var d=d||{},c=c||{},f={},a;for(a in d)d.hasOwnProperty(a)&&(f[a]=typeof d[a]==="object"&&d[a]?b(d[a],c[a]):d[a]!==c[a]);for(a in c)c.hasOwnProperty(a)&&!f[a]&&(f[a]=typeof c[a]==="object"&&c[a]?b(c[a],
d[a]):c[a]!==d[a]);return f}function c(d,b){var f;if(d===b)return!0;if(j.isArray(d)){if(!j.isArray(b)||d.length!==b.length)return!1;for(f=d.length;f--;)if(!c(d[f],b[f]))return!1;return!0}if(j.isPlainObject(d)){if(!j.isPlainObject(b))return!1;for(f in d)if(!c(d[f],b[f]))return!1;return!0}return!1}return{extend:d,diff:b,equals:c,copy:function(b){return j.isArray(b)?b.slice(0):j.isPlainObject(b)?d({},b):b},indexOfArray:function(d,b,c){if(Array.prototype.indexOf&&d.indexOf===Array.prototype.indexOf)return d.indexOf(b,
c);d&&d instanceof Array||m.error("Invalid arr passed to A.indexOfArray: "+d,"A.util","indexOfArray");c=parseInt(c,10);c=isNaN(c)?0:c;if(!isFinite(c))return-1;for(var f=d.length;c<f;c++)if(d[c]===b)return c;return-1},isFiniteNumber:function(d){return typeof d==="number"&&!isNaN(d)&&isFinite(d)},objectIsEmpty:function(d){for(var b in d)if(d.hasOwnProperty(b))return!1;return!0}}}(),c=function(){return{onScreen:function(d){var b=j(d);if(!b.is(":visible"))return!1;var c=j(window),d=c.scrollTop(),c=window.innerHeight?
window.innerHeight:c.height(),f=d+c;d-=100;f+=100;var a=b.offset().top,b=b.height(),g=a+b;return a>=d&&a<f||g>d&&g<=f||b>c&&a<=d&&g>=f}}}(),g=function(){return{setCssImportant:function(d,b,c){d=d.jquery?d[0]:d;if(typeof d!=="undefined")d=d.style,d.cssText=d.cssText.replace(RegExp(b+"\\s*:\\s*[.^;]*(\\s*;)?","gmi"),""),d.cssText+=b+": "+c+" !important;"}}}(),f=function(){return{now:function(){return Date.now()}}}(),b=function(){return{hasWeblab:function(d,b){var c=d.toUpperCase(),f=b.toUpperCase();
return k[c]?k[c]===f:!1}}}();return{now:f.now,extend:l.extend,copy:l.copy,diff:l.diff,equals:l.equals,objectIsEmpty:l.objectIsEmpty,indexOfArray:l.indexOfArray,isFiniteNumber:l.isFiniteNumber,parseJSON:function(d){return j.parseJSON(d)},throttle:i.throttle,debounce:i.debounce,delay:i.delay,interval:i.interval,trim:h.trim,contains:h.contains,map:e.map,reduce:e.reduce,each:e.each,breaker:e.breaker,onScreen:c.onScreen,setCssImportant:g.setCssImportant,hasWeblab:b.hasWeblab}});m.when("p-detect","a-util").register("a-detect",
function(a,k){var j;try{j=navigator.userAgent}catch(e){j=""}var i=k.copy(a),h={};k.each({isAmazonApp:function(){return/Windowshop/.test(j)},isGen5App:function(){return/Windowshop.*(?:KFOT|KFTH|KFJWA|KFJWI|KFTT)/.test(j)},androidVersion:function(){var c=/(?:Android\s+|Windowshop.*Android\/)(\d+\.\d+(?:\.\d+)*)/.exec(j);if(c[1])return c[1]},isChrome:function(){return/Chrome/.test(j)},chromeVersion:function(){var c=/Chrome\/(\d+\.\d+(?:\.\d+)*)/.exec(j);if(c[1])return c[1]},isAndroidStockGuess:function(){var c=
!1;i.capabilities.android&&!/Chrome|Opera|Firefox|UCBrowser/.test(j)&&(c=/AppleWebKit\/(\d+\.\d+)/.exec(j),c=c[1]&&c[1]<"535");return c},isFirefox:function(){return/Firefox/.test(j)},isOldAndroid:function(){return/Android\s[12]/.test(j)},isIE10:function(){return/Trident/.test(j)&&"onmspointerup"in document&&!("onpointerup"in document)},isIE10Plus:function(){return/Trident/.test(j)&&("onpointerup"in document||"onmspointerup"in document)},isIE11Plus:function(){return/Trident/.test(j)&&"onpointerup"in
document},isIETouchCapable:function(){return i.capabilities.isIE10Plus&&/Touch;/.test(j)},isMetroIEGuess:function(){var c=!0;try{c=new ActiveXObject("htmlfile")}catch(a){c=!1}return i.capabilities.isIE10Plus&&!i.capabilities.mobile&&!c},pointerPrefix:function(){return"onmspointerup"in document||"onpointerup"in document?"onpointerup"in document?"pointer":"MSPointer":!1},actionMode:function(){var c=i.capabilities.pointerPrefix;return c?c:i.capabilities.touch?"touch":"mouse"}},function(c,a){var f=i.capabilities,
b;try{b=c()}catch(d){b=!1}f[a]=b});k.each({start:{mouse:"down",touch:"start",pointer:"down",MSPointer:"Down"},end:{mouse:"up",touch:"end",pointer:"up",MSPointer:"Up"},move:{mouse:"move",touch:"move",pointer:"move",MSPointer:"Move"},enter:{mouse:"enter",touch:"enter",pointer:"enter"},leave:{mouse:"leave",touch:"leave",pointer:"leave"},cancel:{touch:"cancel",pointer:"cancel",MSPointer:"Cancel"},over:{mouse:"over",pointer:"over",MSPointer:"Over"},out:{mouse:"out",pointer:"out",MSPointer:"Out"}},function(c,
a){var f=i.capabilities.actionMode,b=typeof c==="string"?c:c[f];h[a]=b?f+b:c.mouse===void 0?"":"mouse"+c.mouse});i.action=h;var l={};if(i.capabilities.pointerPrefix==="pointer")l.touch="touch",l.pen="pen",l.mouse="mouse",l.unknown="";else if(i.capabilities.pointerPrefix==="MSPointer")l.touch=2,l.pen=3,l.mouse=4;i.pointerType=l;return i});m.when("a-util","a-events").register("a-prefix",function(a,k){function j(c){return c.toLowerCase().replace(/-(.)/g,function(c,f){return f.toUpperCase()})}var e={transitionend:null},
i=document.createElement("div").style,h={},l=["o","ms","moz","webkit"];k.on("beforeReady",function(){if(window.addEventListener){var c=document.createElement("div"),g=function(c){e.transitionend=c.type;this.removeEventListener("webkitTransitionEnd",g,!1);this.removeEventListener("transitionend",g,!1);this.removeEventListener("otransitionend",g,!1);this.removeEventListener("oTransitionEnd",g,!1)};c.setAttribute("style","position:absolute;top:0px;z-index:-1;transition:top 1ms ease;-webkit-transition:top 1ms ease;-moz-transition:top 1ms ease;-o-transition:top 1ms ease;");
c.addEventListener("transitionend",g,!1);c.addEventListener("webkitTransitionEnd",g,!1);c.addEventListener("otransitionend",g,!1);this.addEventListener("oTransitionEnd",g,!1);document.body.appendChild(c);a.delay(function(){c.style.top="100px";a.delay(function(){c.parentNode.removeChild(c);c=g=null;a.each(e,function(){})},100)},0)}});return{prefixes:{getStyle:function(c){if(!h[c]){var a=j(c);if(a in i)h[c]=a;else for(var a=a.charAt(0).toUpperCase()+a.slice(1),f=l.length;f--;){var b=l[f]+a;b in i&&
(h[c]=b)}}return h[c]},getEvent:function(c){return c?e[c.toLowerCase()]:void 0}}}});m.register("a-defer",function(){function a(c){var g=0,f=setTimeout(function(){a(c)},0);if(e||c.length===0)clearTimeout(f),j=!1;else{var b=Date.now();try{c.shift().call()}catch(d){m.error("Deferred execution failed: "+d.message,"A.defer","partialExecute")}l+=Date.now()-b;l>i&&(g=h,l=0);setTimeout(function(){clearTimeout(f);a(c)},g)}}var k=[],j=!1,e=!1,i=50,h=50,l=0;return{defer:function(c){k.push(c);!j&&!e&&(j=!0,setTimeout(function(){a(k)},
0))},pauseDeferred:function(){e=!0},executeDeferred:function(){e=!1;j=!0;setTimeout(function(){a(k)},0)}}});m.when("a-base","a-util","p-detect").register("a-events",function(a,k,j){function e(f,b){b!==!1&&c.makeTopicTimeSliced(f);h[f]=!0;c.subscribe(f,function(){m.register(f,function(){var d=window.aPageStart||k.now();return{time:k.now()-d}})});c.publish(f);c.unsubscribe(f)}function i(){if(!h.beforeLoad||!h.load)e("beforeLoad"),e("load"),setTimeout(function(){e("beforeAfterLoad");e("afterLoad")},
1500)}var a=a.$,h={},l=a(window),c=function(){function c(d){for(var b=setTimeout(c,0),i=k.now(),s;(s=g.shift())!==void 0;)try{if(s.fn.apply(window,s.args)===!1){clearTimeout(b);for(var e=s.id,j=void 0,C=[],x=0,y=g.length;x<y;x++)j=g[x].id,e!==j&&C.push(g[x]);g=C}if(d===!0&&k.now()-i>=l){clearTimeout(b);k.delay(c,h);return}}catch(z){m.error("Event execution failed for event "+s.topic+": "+(z&&z.message||z),"A.events","partialPublish")}clearTimeout(b);a=!1}var b={},d=0,a=!1,g=[],l=50,h=15;return{publish:function(l){var h=
b[l];if(h){var i=h.isTimeSliced,s=Array.prototype.slice.call(arguments,1),e=d++,j=function(b){g.push({topic:l,id:e,fn:b,args:s})};if(i)for(var u;(u=h.shift())!==void 0;)j(u);else{u=0;for(var k=h.length;u<k;u++)j(h[u])}a||(a=!0,c(i))}},subscribe:function(d,c){b[d]||(b[d]=[]);if(typeof c==="function")return b[d].unshift(c),{event:d,callback:c}},unsubscribe:function(d,c){if(b[d])if(c)for(var a=b[d],f=0,g=a.length;f<g;f++)a[f]===c&&a.splice(f--,1);else b[d]=[]},makeTopicTimeSliced:function(d){b[d]||(b[d]=
[]);b[d].isTimeSliced=!0}}}(),g=function(){var a=function(b,d){for(var a=b.split(" "),f,g=[];(f=a.pop())!==void 0;)h[f]?(c.subscribe(f,d),c.publish(f),c.unsubscribe(f)):g.push(c.subscribe(f,d).event);return{event:g.join(" "),callback:d}};k.each("ready,load,unload,afterLoad,scroll,resize,orientationchange,zoom".split(","),function(b){a[b]=function(){a.apply(window,[b].concat([].slice.call(arguments,0)))}});return a}();a(document).ready(function(){j.responsiveGridEnabled()&&j.toggleResponsiveGrid(!0);
e("beforeReady");e("ready");e("afterReady");document.readyState==="complete"&&i()});l.load(i);l.unload(function(){e("unload")});return{on:g,off:function(a,b){if(typeof a==="object")a=a.event,b=a.callback;return c.unsubscribe(a,b)},trigger:function(){c.publish.apply(window,arguments)},events:{defaults:{input:"change",select:"change",a:"click",button:"click",form:"submit"}}}});m.when("a-base","a-util","a-events").register("a-declarative",function(a,k,j){function e(c){var a=h(c.currentTarget),f=h(c.target);
if(c.type==="submit"){var b=f.closest("form");b.length&&(f=b)}if(b=a.data("action"))b=b.split(" "),k.each(b,function(d){var b=l[d]||{},h=a.data(d),i=c.type,i={$target:f,$currentTarget:a,targetTag:f.prop("tagName").toLowerCase(),type:i,action:d,data:h,$event:c,$declarativeParent:a},d="a:declarative:"+d;j.trigger(d,i);j.trigger(d+":"+c.type,i);d=!1;h?d=!!h.allowLinkDefault:b&&(d=!!b.allowLinkDefault);c.type==="click"&&!d?(b=f.closest("a"),b=b.length&&(b[0].href==="#"||c.currentTarget===b[0]||b.parent(".a-declarative").length)):
b=!1;b&&c.preventDefault()})}function i(){var c,a,f,b;switch(arguments.length){case 2:c=arguments[0];b=arguments[1];break;case 3:c=arguments[0];a=arguments[1];b=arguments[2];break;case 4:c=arguments[0],a=arguments[1],f=arguments[2],b=arguments[3]}c&&(typeof c==="string"&&(c=k.trim(c).split(" ")),k.each(c,function(d){var c="a:declarative:"+d;l[d]=f||{};if(a)a=typeof a==="string"?k.trim(a).split(" "):a,k.each(a,function(d){j.on(c+":"+d,b)});else j.on(c,b)}))}var h=a.$,l={};h(document).delegate(".a-declarative",
"click dblclick mousedown mouseup mouseenter mouseleave mousemove change submit touchstart touchend touchmove touchcancel keydown keyup keypress MSPointerDown pointerdown MSPointerUp pointerup MSPointerMove pointermove MSPointerCancel pointercancel MSPointerOver pointerenter MSPointerOut pointerleave",e).delegate(".a-gesture","tap swipe swipe-horizontal swipe-vertical pan-horizontal pan-vertical doubleTap",e);i.create=function(c,a,f){var b=c.jquery&&c.length?c:h(c);if(b.length&&a){var d=b.data("action");
b.data("action",d?d+" "+a:a).data(a,f?f:{});b.addClass("a-declarative")}return c};i.remove=function(c,a){var f=c.jquery&&c.length?c:h(c),b=f.data("action"),a=a||b;if(f.length&&b){for(var b=b.split(" "),d=b.length;d--;)(b[d]===a||b[d]==="")&&b.splice(d,1);b.length?f.data("action",b.join("")):f.data("action",null).removeClass("a-declarative");f.data(a,null)}return c};return{declarative:i}});m.when("a-base","a-util","a-events","a-declarative").register("a-state",function(a,k,j,e){function i(a,b,d,l){if(b===
null||c.isArray(b)||c.isPlainObject(b)){var h=k.copy(g[a]);!h||!b||l?g[a]=k.copy(b):k.extend(g[a],b);l=k.diff(h,g[a]);h=k.copy(g[a]);d||j.trigger("a:state:update:"+a,h,l,b);return h}else m.error("Invalid value passed to A.state with a namespace of "+a+".  Value: "+b,"A.state","updateNamespace")}function h(c,b,d){if(b.length===1)return c[b.shift()]=d,c;c[b.shift()]=h({},b,d);return c}function l(){for(var a=document.getElementsByTagName("script"),b=0,d=a.length;b<d;b++)if(!c.data(a[b],"a-eval")){var l=
c(a[b]),h=l.attr("data-a-state");if(h&&(h=k.parseJSON(h),h.key)){l=k.parseJSON(l.html());c.data(a[b],"a-eval",!0);var e=g[h.key];e&&k.extend(l,e);i(h.key,l)}}}var c=a.$,g={};e.declarative("a-state",function(c){var b=c.$target,d=c.data.key,a=c.data[c.type];!a&&j.events.defaults[c.targetTag]===c.type&&(a=b.attr("name"));a&&d&&(b.is("select")&&(b=b.find(":selected")),typeof b.val()!==void 0&&typeof a==="string"&&(c=b.val(),b.is("input[type=checkbox]")&&!b.prop("checked")&&(c=null),a=h({},a.split("."),
c)),i(d,a))});a=function(c,b,d){return b===void 0?k.copy(g[c]):i(c,b,!!d)};a.bind=function(c,b){j.on("a:state:update:"+c,b)};a.replace=function(c,b,d){return i(c,b,!!d,!0)};j.on("beforeReady",l);a.parse=l;return{state:a}});m.when("a-base","a-util","a-events","a-declarative","a-state").register("a-ajax",function(a,k,j,e,i){function h(d){return!d||typeof d==="string"?"":g.param(d)}function l(b,c){b&&b.length!==0&&(typeof b==="string"&&k.trim(b)===""?c&&c(b):(b[0]instanceof Array||(b=[b]),k.each(b,function(a){var f=
d[a[0]];f?f.apply(window,a):((f=c)||m.error("There is no handler for the streaming ajax command: "+b[0],"A.ajax","chunkHandler"),f(a))})))}function c(b,d){var d=d||{},c=d.headers||{};if(d.accepts!==f)c.Accept=d.accepts;if(d.contentType!==f)c["Content-Type"]=d.contentType;return n["a-ajax-update"]({url:b,cache:d.cache,params:h(d.params),method:d.method,chunk:d.chunk,success:d.success,failure:d.failure||d.error,abort:d.abort,indicator:d.indicator,timeout:d.timeout,headers:c,withCredentials:!!d.withCredentials})}
var g=a.$,f,b=function(){var d,b;if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};var c=function(){function d(){b.length>0?b.pop().send():c--}var b=[],c=0;return{add:function(d){c<4?(d.send(),c++):b.push(d)},complete:d,abort:function(c){k.each(b,function(d,a){if(d===c)return b.splice(a,1),k.breaker});d()}}}();d=4;b=function(){};var a=function(b){var a=b.http,f=b.responsePosition,g=a.readyState===3,h=a.readyState===d&&(a.status===200||a.status===
304);if(g||h)if(h=a.responseText,f<h.length){var f=h.substring(f,h.length),h=f.split("&&&"),l=f.lastIndexOf("&&&");if(l===-1&&g)return;l<f.length-3&&g&&h.pop();k.each(h,function(d){var c;if(k.trim(d)!=="")try{c=k.parseJSON(d)}catch(a){k.delay(function(){m.error("Invalid streaming ajax JSON response: "+d,"A.ajax","streamingResponseHandler")},0)}else c=d;b.callbacks.chunk(c)});b.responsePosition+=l}a.readyState===d&&(clearInterval(b.pollTimer),clearTimeout(b.timeoutTimer),c.complete(),a.status!==200&&
a.status!==304?b.callbacks.failure(b,a.statusText,a.statusText):b.callbacks.success(null,a.statusText,b),j.trigger("a:pageUpdate"),j.trigger("a:ajax:complete"))},f=function(b){var a=b.http;if(a.readyState===d){clearInterval(b.pollTimer);clearTimeout(b.timeoutTimer);c.complete();var f=a.responseText;try{var g=k.parseJSON(f);g&&(f=g)}catch(h){}a.status!==200&&a.status!==304?b.callbacks.failure(b,a.statusText,a.statusText):b.callbacks.success(f,a.statusText,b);j.trigger("a:ajax:complete")}};return function(){function g(b){if(b.http.readyState<
d){clearInterval(b.pollTimer);var a="Request Timeout";try{a=b.http.statusText}catch(f){}b.callbacks.failure(b,a,a);c.complete()}}function h(b,d,c){c=c||{};c=k.extend({},i.all,i[d],c);k.each(c,function(d,c){(d||d==="")&&b.setRequestHeader(c,d)});return b}function l(b,d,a,f,g,i,e,n,j,k){var r=b.http;r.open(d,a);h(r,d,j);b.timeout=f;b.callbacks.chunk=g||b.callbacks.chunk;b.callbacks.success=i||b.callbacks.success;b.callbacks.failure=e||b.callbacks.failure;b.callbacks.abort=n||b.callbacks.abort;if(k)r.withCredentials=
!0;c.add(b);return{abort:function(){b.abort()}}}var i={all:{"X-Requested-With":"XMLHttpRequest"},get:{Accept:"text/html,*/*"},post:{Accept:"text/html,*/*","Content-Type":"application/x-www-form-urlencoded"}},e=function(){var d=new XMLHttpRequest;this.pollTimer=null;this.http=d;this.responsePosition=0;this.buffer="";this.callbacks={success:b,failure:b,chunk:b,abort:b}};e.prototype={send:function(){var b=this;b.http.send(b.params);b.pollTimer=setInterval(function(){if(b.http.readyState>=2&&typeof b.http.responseText!==
"unknown"){var d=b.http.getResponseHeader("Content-Type"),d=d?d.toLowerCase():"";(d.indexOf("application/json-amazonui-streaming")!==-1||d.indexOf("application/amazonui-streaming-json")!==-1?a:f)(b)}},25);b.timeout=typeof b.timeout==="undefined"?2E4:b.timeout;b.timeoutTimer=setTimeout(g,b.timeout,b)},get:function(b,d,c,a,f,g,h,i,e){if(d){var n=b.indexOf("?"),j=b.charAt(b.length-1);n>-1?j!=="?"&&j!=="&"&&(b+="&"):b+="?";b+=d}return l(this,"get",b,c,a,f,g,h,i,e)},abort:function(){this.http&&this.http.abort();
clearInterval(this.pollTimer);clearTimeout(this.timeoutTimer);c.abort(this);this.callbacks.abort(this)},post:function(b,d,c,a,f,g,h,i,e){this.params=d;return l(this,"post",b,c,a,f,g,h,i,e)}};return e}()}(),d={update:function(b,d,c){g(d).html(c)},append:function(b,d,c){b=g(d);b.html(b.html()+c)},prepend:function(b,d,c){b=g(d);b.html(c+b.html())},state:function(b,d,c){i.state(d,c)},script:function(b,d){eval(d)}},n={"a-ajax-update":function(d){var c=new b,a=function(){var b=window.ue;b&&b.tag&&(b.tag("aui"),
b.tag("aui:ajax"))},f=d.abort,h=g(d.indicator);h.show();var i=typeof d.method==="string"&&d.method.toLowerCase()==="post"?"post":"get";i==="get"&&d.cache===!1&&(d.params+=[d.params===""?"":"&","_=",(new Date).getTime()].join(""));return c[i](d.url,d.params,d.timeout,function(b){a();l(b,d.chunk)},function(){h.hide();a();d.success&&d.success.apply(window,arguments)},function(){h.hide();a();d.failure&&d.failure.apply(window,arguments)},f,d.headers,d.withCredentials)}};e.declarative("a-ajax-update",function(b){var d=
b.$target,c=b.action,a=b.data;if(a||j.events.defaults[b.targetTag]===b.type)if(typeof a!=="object"||a[b.type]){var a=a||{},f=a.url||d.attr("href")||d.attr("action"),g=h(a.params),l=d.attr("method")||a.method,i=a.indicator,a=a.timeout;f||m.error("No ajax url provided.","A.ajax","declarativeHandler");b.targetTag==="form"&&b.type===j.events.defaults.form&&(d=d.serialize(),g+=d);b.$event.preventDefault();return n[c]({url:f,params:g,method:l,indicator:i,operation:c,timeout:a})}});return{ajax:c,get:function(b,
d){d=d||{};d.method="get";return c(b,d)},post:function(b,d){d=d||{};d.method="post";return c(b,d)}}});m.when("a-base","a-util","p-detect","a-prefix").register("a-animate",function(a,k,j,e){function i(b,c,a){b=b.jquery?b[0]:b;c=e.prefixes.getStyle(c);b.style[c]=a}function h(b){var c="",a=j.capabilities.transform3d;b.top!==g&&b.left!==g?(c="translate",a&&(c+="3d"),c+="("+b.left+", "+b.top,a&&(c+=", 0"),c+=")"):(b.top!==g?c="translateY("+b.top+")":b.left!==g&&(c="translateX("+b.left+")"),a&&(c+=" translateZ(0)"));
b.scale!==g&&(c+=" scale("+b.scale+")");return c}function l(b){var c={},a=!1;k.each(f,function(f){f in b&&(a=!0,c[f]=b[f],delete b[f])});return a?c:null}function c(b,c,a){j.capabilities.transform?(typeof a==="string"&&(a=parseInt(a,10)),k.isFiniteNumber(a)||(a=0),b=parseInt(b.css(c),10),k.isFiniteNumber(b)||(b=0),a-=b,a+="px"):k.isFiniteNumber(a)&&(a+="px");return a}var g,f=["top","left","scale"],a={animate:function(b,c,a,f,g){if(!b._a)b._a=0;b._a++;var h=function(){b._a--;g&&g()};b.queue("fx",[function(){b.animate(c,
{duration:a,easing:f==="linear"?f:"swing",complete:h,queue:!1})}])},fadeIn:function(b,c,a,f){b.fadeIn({duration:c,easing:a==="linear"?a:"swing",complete:f,queue:!1})},fadeOut:function(b,c,a,f){var g=b.css("opacity");b.fadeOut({duration:c,easing:a==="linear"?a:"swing",complete:function(){+g<0.95&&b.css("opacity",g);f&&f()},queue:!1})},fadeToggle:function(b,c,a,f){b.fadeToggle({duration:c,easing:a==="linear"?a:"swing",complete:f,queue:!1})},slideUp:function(b,c,a,f){b.slideUp({duration:c,easing:a===
"linear"?a:"swing",complete:f,queue:!1})},slideDown:function(b,c,a,f){b.slideDown({duration:c,easing:a==="linear"?a:"swing",complete:f,queue:!1})},slideToggle:function(b,a,c,f){b.slideToggle({duration:a,easing:c==="linear"?c:"swing",complete:f,queue:!1})},isAnimated:function(b){b=b.jquery?b[0]:b;return b._a&&b._a>0}},b={animate:function(b,a,f,e,o){var q=b[0],a=k.copy(a),f=f===g?250:f,e=e||"linear";if(a.top!==g)a.top=c(b,"top",a.top);if(a.left!==g)a.left=c(b,"left",a.left);i(b,"transition",f<4?"all 0ms":
"all "+f+"ms "+e);if(f>4){if(q._a===g)q._a=0;q._a++;var t=function(){q._a--;q._a||i(b,"transition","");o&&o()};k.delay(function(){k.delay(t,f)},0)}j.capabilities.transform&&(e=l(a))&&i(b,"transform",h({top:e.top,left:e.left,scale:e.scale}));k.objectIsEmpty(a)||b.css(a);f<=4&&o&&k.delay(o,0)},fadeIn:function(b,a,c,f){if(b.css("display")==="none"||+b.css("opacity")<0.05){var g=b.css("opacity")||1;if(!g||+g<0.05)g=1;b.css("opacity","0").show();var h=this.animate;k.delay(function(){h(b,{opacity:g},a,
c,function(){f&&f()})},0)}else f&&f()},fadeOut:function(b,a,c,f){var g=b.css("opacity");b.css("display")!=="none"&&+g>0.05?this.animate(b,{opacity:0},a,c,function(){b.hide().css("opacity",g);f&&f()}):f&&f()},fadeToggle:function(b,a,c,f){(b.css("display")==="none"||+b.css("opacity")<0.05?this.fadeIn:this.fadeOut).call(this,b,a,c,f)},slideUp:function(b,a,c,f){var g=this.animate;b.css({height:b.innerHeight(),overflow:"hidden"});k.delay(function(){g(b,{height:0},a,c,function(){b.hide();b.css({height:"",
overflow:""});f&&f()})},0)},slideDown:function(b,a,c,f){var g=b.innerHeight(),h=this.animate;b.css({height:0,overflow:"hidden"});b.show();k.delay(function(){h(b,{height:g},a,c,function(){f&&f();b.css({height:"",overflow:""})})},0)},slideToggle:function(b,a,c,f){(b.is(":visible")?this.slideUp:this.slideDown).call(this,b,a,c,f)},isAnimated:function(b){b=b.jquery?b[0]:b;return b._a&&b._a>0}};return j.capabilities.transition?b:a});m.when("a-base","a-util","a-events","a-defer","p-detect").register("a-image",
function(a,k,j,e,i){function h(b){var b=c(b),a=b.data("a-dynamic-image");if(a&&typeof a==="object"){var f=b.data("a-dynamic-image-container");typeof f==="undefined"&&(f=b.closest(".a-dynamic-image-container"),f.length===0&&(f=b.parent()),b.data("a-dynamic-image-container",f));var g=window.devicePixelRatio?window.devicePixelRatio:1,h=f.width()*g,l=f.height()*g,i=Number.MAX_VALUE,e=Number.MAX_VALUE,j=b.attr("src")||"",n,m=h/l;k.each(a,function(b,a){var c=parseInt(b[0],10),d=parseInt(b[1],10);c-=l;d-=
h;d=m>=1?d:c;Math.abs(d)<e&&d>=0&&(e=Math.abs(d),n=a);Math.abs(d)<i&&(i=Math.abs(d),j=a)});n&&(j=n);d.schedule(j,b);d.fill();return j}}function l(){c("img.a-dynamic-image").each(function(){c(this).data("a-manual-replacement")||h(this)})}var c=a.$;c(window);var g=document.getElementsByTagName("img"),f={},b=function(){return{canLoad:function(){return!0},inFlight:0,limit:function(){return 2}}}(),d=function(){var a=[],c={};return{schedule:function(b,d){c[b]||(a.push(b),c[b]=!0);f[b]=f[b]||[];for(var g=
0;g<f[b].length;g++)if(d.is(f[b][g]))return;f[b].push(d)},fill:function(){if(b.canLoad())for(var d=0;d<b.limit()-b.inFlight;d++)if(a.length>0){var f=a.shift();c[f]=!1;n.load(f)}}}}(),n=function(){function a(b){var c=f[b];c&&c.length>0&&k.each(c,function(a){e.defer(function(){a.attr("src",b)})})}var h={};return{load:function(c){h[c]&&a(c);if(h[c]!==!1){var f=new Image;f.onload=function(){b.inFlight--;a(c);h[c]=!0;d.fill()};f.onerror=function(){b.inFlight--;h[c]=!1;d.fill()};b.inFlight++;e.defer(function(){f.src=
c})}},poll:function(){k.each(g,function(b){b=c(b);!b.data("a-hires-loaded")&&!b.is(":hidden")&&k.onScreen(b)&&!b.data("a-manual-replacement")&&(b.data("a-hires")&&d.schedule(b.data("a-hires"),b),b.data("a-hires-loaded",!0))})}}}();i.capabilities.hires&&j.on.ready(function(){k.interval(function(){n.poll();d.fill()},2E3)});j.on.ready(l);c(window).resize(l);return{loadHiResImage:function(b){var a=[];c(b).each(function(){var b=c(this),f=b.data("a-hires");f&&(d.schedule(f,b),d.fill(),a.push(f));b.data("a-hires-loaded",
!0)});return a},loadDynamicImage:function(b){var a=[];c(b).each(function(){a.push(h(this))});return a},loadImageManually:function(b,a){var d=[];c(b,a).each(function(){var b=c(this);if(!b.data("a-image-already-loaded")){b.data("a-image-already-loaded",!0);var a=h(b),f=c("<img>").attr("src",a||b.data("a-image-source"));d.push(a);var a=""+this.className,g=b.data("a-extra-classes");g&&(a+=" "+g);f.attr("class",a);f.attr("id",this.id);f.attr("style",b.attr("style"));f.attr("alt",b.attr("alt"));f.attr("usemap",
b.attr("usemap"));f.attr("title",b.attr("title"));k.each(this.attributes,function(b){b&&b.name&&b.name.indexOf("data-")===0&&f.attr(b.name,b.value)});f.data(b.data());b.replaceWith(f)}return d})},loadDescendantImagesManually:function(b,a){return this.loadImageManually(c(b,a).find("div.a-manually-loaded").filter(function(){return!c(this).data("a-image-already-loaded")}))}}});m.when("a-util","a-defer","a-base","a-events","a-declarative","a-state","a-ajax","a-animate","a-image","a-constants","a-detect",
"a-browser-events","a-preload","a-prefix").register("A",function(a){var k={};a.each(arguments,function(j){a.extend(k,j)});return k});m.register("a-constants",function(){return{constants:{keycodes:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,DELETE:46},NOOP:function(){}}}});m.when("jQuery","a-detect","a-events","a-util","a-defer").register("a-browser-events",function(a,k,j,e){var i,h,l;function c(){return window.orientation===u?f()>g()?90:0:
window.orientation}function g(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight}function f(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth}function b(){return window.innerWidth?Math.round(document.documentElement.clientWidth/window.innerWidth*10)/10:1}function d(a){switch(a){case i:a="orientation,height,width,zoom,scrollLeft,scrollTop".split(",");break;case h:a=["scrollLeft","scrollTop"];break;case l:a=["height","width","zoom","scrollLeft",
"scrollTop"];break;default:a=["orientation","height","width","scrollLeft","scrollTop"]}for(var d={},e,j;(j=a.pop())!==u;)e=q[j],j==="orientation"?q[j]=c():j==="height"?q[j]=g():j==="width"?q[j]=f():j==="scrollTop"?q[j]=window.scrollY?window.scrollY:o.scrollTop():j==="scrollLeft"?q[j]=window.scrollX?window.scrollX:o.scrollLeft():j==="zoom"&&(q[j]=b()),q[j]!==e&&(d[j]=e);return d}function n(b){if(b=v[b])if(b.pollCounter=b.maxPollCount,!b.intervalId)b.intervalId=setInterval(b.handler,b.pollInterval)}
function r(b){if((b=v[b])&&b.intervalId)clearInterval(b.intervalId),b.intervalId=0}var u,o=a(window);h="scroll";l="zoom";i="all";var q={scrollLeft:0,scrollTop:0,height:g(),width:f(),orientation:c(),zoom:b()};j.on("beforeReady",function(){d(i)});var m,p={speed:0,degree:0,direction:"",positionX:0,positionY:0},s=[],w;o.bind("mousemove",e.throttle(function(b){b={x:b.clientX,y:b.clientY};if(w){var a=w,c=Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))/50*10,d=Math.atan2(b.y-a.y,b.x-a.x)/(Math.PI/180),
f=a=0;s.push({speed:c,degree:d});s.length>4&&(s=s.slice(-4));c=s.length;for(d=0;d<c;d++)a+=s[d].speed,f+=s[d].degree;a=Number((a/c).toFixed(2));f=Math.round(f/c);p={speed:a,degree:f,direction:f>=0?f>157.5?"W":f>112.5?"SW":f>67.5?"S":f>22.5?"SE":"E":f<-157.5?"W":f<-112.5?"NW":f<-67.5?"N":f<-22.5?"NE":"E",positionX:b.x,positionY:b.y};w=b}else b&&(w=b)},50));o.bind(h,e.throttle(function(){var b=d(h);j.trigger(h,q,b)},100));var v={};e.each(["resize",l],function(b){v[b]={handler:function(){},lastViewport:e.copy(q),
maxPollCount:5,pollCounter:5,pollInterval:100,intervalId:0}});v.resize.handler=function(){var b=[],a=v.resize;d("resize");var c=e.diff(q,a.lastViewport);c.orientation&&b.push("orientationchange");c.width||c.height?b.push("resize"):k.capabilities.isIETouchCapable&&c.scrollTop&&b.push("resize");if(b.length)a.lastViewport=e.copy(q),e.each(b,function(b){j.trigger(b,q,c)});--a.pollCounter===0&&r("resize")};v.resize.pollInterval=100;v.resize.maxPollCount=10;o.bind("resize",function(){n("resize")});v.zoom.handler=
function(){d(l);var b=v.zoom,a=e.diff(q,b.lastViewport);if(a.zoom)b.lastViewport=e.copy(q),j.trigger(l,q,a);--b.pollCounter===0&&r(l)};v.zoom.pollInterval=200;k.capabilities.android&&o.bind("touchcancel",function(b){if(b.originalEvent.changedTouches.length===2)v.zoom.maxPollCount=15,n(l)});k.capabilities.ios&&o.bind("touchend",function(b){if(b.originalEvent.touches.length===1)v.zoom.maxPollCount=1,n(l)});!k.capabilities.ios&&!k.capabilities.android&&o.bind("resize",function(){v.zoom.maxPollCount=
5;n(l)});return{viewport:function(b){b&&d(i);return e.copy(q)},cursor:function(){return e.copy(p)},scrollBarWidth:function(b){if(b||(document&&document.body&&document.body.scrollHeight?document.body.scrollHeight:0)>g()){if(m===u){var b=a('<div style="visibility:hidden"><div style="width:100%"></div></div>'),c=b.children(),d;b.appendTo("body");d=b[0].offsetWidth;b.css("overflow","scroll");c=c[0].offsetWidth;b.remove();m=d-c}return m>0?m:15}else return 0}}});m.when("a-base","a-events").register("a-preload",
function(a,k){function j(){if(q.length>0)u=q;else if(u=o,u.length===0||!m)return!1;if(z>=y)return!1;z++;return!0}function e(b,a){var c=function(){if(b){var a=b.parentElement;a&&a.removeChild(b);b=null}};a&&clearTimeout(a);z=z<1?0:z-1;p?setTimeout(c,5):c();v?g(l,0):l()}function i(b){var a,c,d=b.indexOf("?"),d=d>0?d:b.length;(c=b.lastIndexOf(".",d))&&(a=b.substring(c+1,d).toLowerCase());return a==="gz"?i(b.substring(0,c)):a}function h(b,a,c){var d;if(p||s&&!c)d=g(function(){e(b,d)},2500+Math.random()*
100);b.onerror=function(){e(b,d)};b.onload=function(){e(b,d)}}function l(){if(j()){var a=u.pop(),c=i(a);a:{for(var d=G.length;d--;)if(G[d]===c){c=!0;break a}c=!1}p?d=J:v?(d=A,c||(x>=10?d=D:x===9&&(d=K))):d=w?c?A:null:A;var g;if(d){g=d===A?new Image:f.createElement(d);g.style.display="none";if(d===A)h(g,d,c,a),g.src=a;else if(d===J)g.data=a,h(g,d,c,a);else if(d===K)g.type="text/cache",h(g,d,c,a),g.src=a;else if(d===D)g.rel="stylesheet",g.media="speech",h(g,d,c,a),g.href=a;if(!(v&&d===A))try{b.appendChild(g)}catch(k){e();
return}B&&B.count&&B.count("aui:preload_fulfilled",B.count("aui:preload_fulfilled")+1);z<y&&l()}else e()}}function c(b,a){if(C){if(typeof b==="string")b=[b];else if(typeof b!=="object"||b===null)return;var d,f;for(d=0;d<b.length;d++)(f=b[d])&&typeof f!=="string"?c(f,a):f&&f[0]!==" "&&(a.splice(Math.round(Math.random()*a.length),0,f),B&&B.count&&B.count("aui:preload_asks",B.count("aui:preload_asks")+1))}}var g=setTimeout,f=document,b=f.documentElement,d=b.style,n=navigator,r=n.userAgent,u=[],o=[],
q=[],m=!1,p="MozAppearance"in d,s=!p&&"webkitAppearance"in d,w=s&&n.vendor.indexOf("Apple")===0,v=!p&&!s&&(n.appName.indexOf("Microsoft")===0||r.indexOf("Trident/")>-1),C=s||p||v,d=!v?-1:/Trident\/([\d]+)/.exec(r)!==null?parseFloat(RegExp.$1):null,x=!v?-1:!d?6:d+4,y=typeof window.plCount!=="undefined"?window.plCount():v&&x<8?2:5,z=0,D="LINK",A="IMG",J="OBJECT",K="SCRIPT",G=["gif","jpeg","jpg","png"],B=window.ue;k.on.afterLoad(function(){m=!0;l()});return{preload:function(b,a){a?a(b):(c(b,o),l())}}})})})(function(){var m=
window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUIBaseJS"):m}());(function(m){m.execute(function(){})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUITouchJS"):m}());
(function(m){m.execute(function(){m.when("A","a-popover-base-factory").register("a-popover-base-apis",function(a,k){return{show:function(a){var e=k.get(a.$trigger?a.$trigger:a);if(e)return e.show.apply(e,arguments)},hide:function(a){var e=k.get(a);if(e)return e.unlock(1),e.hide.apply(e,arguments)},get:function(a){return k.get(a)},remove:function(a){return k.remove(a)}}});m.when("A","a-popover-iframes","a-popover-util","a-popover-objectclass","a-popover-data").register("a-popover-base-factory",function(a,
k,j,e,i){function h(b){return d[b]?d[b]:null}function l(a,c){var d=null;if(typeof a==="number")d=h(a);else if(typeof a==="string")(d=b[a]?b[a]:null)||(d=h(a));else if(typeof a==="object")if(a.$popover)d=a;else{var f=g(a),d=f.data("a-popover-id");d||(d=f.find(".a-declarative").eq(0),d=d.length?d.data("a-popover-id"):null);d=h(d);if(!d){var l=f.data("action");if((l=l?f.data(l):null)&&l.name)if((d=b[l.name]?b[l.name]:null)&&(!c||d.type===c))if((l=(l=d.attrs("currentDataStrategy"))?i.getStrategyByName(l):
i.guessStrategyByAttrs(d.attrs()))&&l.reusePopover){if(d.$trigger[0]!==f[0])d.$trigger.data("a-popover-id",null),d.$trigger=f}else d=null;else d=null}}return d}function c(){r||(r=new e.PopoverClass({id:-1,$popover:n,$trigger:n,immersive:!0},{isActive:function(){return!0},hideMethod:function(){this.hideChildren()},showMethod:a.constants.NOOP}));return r}var g=a.$,f=1,b={},d={},n=g("<div style='z-index:-1;position:absolute;' />").appendTo("body"),r;return{getRoot:c,get:function(b,a){var a=a?a:this?
this.type:null,c=l(b,a);return c&&a&&c.type!==a?null:c},create:function(i,j){var n=g(i),r=j.attributes||{},p=j.variant||{},s=j.actionCheck||!1;n.data("a-popover-id");var w=r.type,m=null;if(w&&(!n.hasClass("a-declarative")||!n.data("action")||n.data("action").indexOf(w)===-1))n=a.declarative.create(n,"a-"+w),i=n[0];if(s&&n.data("action")&&n.data("action").indexOf(w)===-1)return null;w&&n&&(m=l(n));return m?m.type!==w?null:m:(s=g(i),n=null,r.type?!s||!s.length?p=null:(r=a.extend({id:f++,$trigger:s,
$triggerWrapper:null,$iframe:k.get()},r),p=a.copy(p),n=new e.PopoverClass(r,p),d[n.id]=n,n.name&&(b[n.name]=n),s.data("a-popover-id",n.id),p=n.$trigger.closest(".a-popover"),p=!n.attrs("immersive")&&p.length?h(p.data("a-popover-id"))||c():c(),n.parent=p,p.children.push(n),p=n):p=null,p)},remove:function(c,f){var g=this.get(c),h=!1;if(g){h=g.id;if(g&&h>-1){var l=a.indexOfArray(g.parent.children,g),i=g.$container,e=g.$trigger;g.parent.children.splice(l,1);g.unlock().hide();g.update({content:""});k.release(g.$iframe);
i&&g.$container.remove();e.data("a-popover-id","");g.name&&delete b[g.name];delete d[h];h=!0}else h=!1;f&&a.declarative.remove(g.$trigger[0],"a-"+f)}return h}}});m.when("A","a-popover-util","a-popover-base-factory").register("a-popover-base-handlers",function(a,k,j){var e=a.$;e(document).bind("click touchstart",function(i){var h=e(i.target);if(!h.hasClass("a-modal-scroller")&&!(h[0].id==="a-popover-lgtbox"||h[0].nodeName.toLowerCase()==="html")){var l=function(a){return k.eventOccursWithin(i,a)};
a.each(j.getRoot().children,function(a){if(a.isLoaded()){var g=k.search(a,l);g?g.hideChildren():a.attrs("lightboxOptions")===null&&!a.attrs("immersive")&&a.unlock(1).hide()}})}});a.declarative("a-popover-close",["click","touchstart"],function(a){for(var h=a.$target,l;h.length;){if(l=h.data("a-popover-id"))break;h=h.parent()}if(h=j.get(l))h.unlock().hide(),k.trigger("dismiss",h);a.$event.preventDefault()});a.on("resize zoom",function(){j.getRoot().updatePosition()})});m.when("A","a-popover-base-apis",
"a-popover-base-handlers").register("a-popover-base",function(a,k){return k});m.when("A","a-popover-util","a-popover-data","a-popover-position","a-popover-iframes","a-popover-lightbox").register("a-popover-objectclass",function(a,k,j,e,i,h){function l(l,e){var j=-1,p=[1],x=-2;this.parent=null;this.children=[];this.dependencies={};this.attributes={position:"triggerVertical",alone:!1,immersive:!1};var y=function(b,d){var f=this.isActive(),h=this.getDataStrategy(),l=!this.$popover,i=d||l,e=!1,b=b||i;
if(!i)for(var j=p.length;j--&&!i;)i=!u[p[j]];if(i)i=t.apply(this),i=g(i),l||(h.unloadContent(this),this.$popover.remove(),e=!0),g("body").append(i),this.$container=i,this.$popover=this.$container.hasClass("a-popover")?this.$container:this.$container.find(".a-popover"),this.$popover.attr("id","a-popover-"+this.id).data("a-popover-id",this.id);this.attrs("immersive")||(i=parseInt(this.parent.$popover.css("z-index"),10),a.isFiniteNumber(i)||(i=this.parent.attrs("immersive")?1010:0),this.$popover.css("z-index",
Math.max(299,100+i)));if(h.shouldRefreshContent(this)||b)e||h.unloadContent(this),h.loadContent(this,l);this.dependencies.updateDimensions!==c&&this.dependencies.updateDimensions.apply(this);p=[];f&&z.call(this,[],!1);return this},z=function(b,f){function g(){h.updatePosition();var a=h.attrs("navigate");!f&&a&&h.attrs("navigate",!1);i.apply(h,b);f&&k.trigger("show",h);j&&j.apply(h,b);f&&k.trigger("afterShow",h);!f&&a&&h.attrs("navigate",a);x=n}var h=this,f=!!f,l=h.dependencies,i=l.showMethod!==c?
l.showMethod:o,e=l.beforeShowMethod!==c?l.beforeShowMethod:null,j=l.afterShowMethod!==c?l.afterShowMethod:null;x=d;h.$popover.css("visibility","hidden").addClass("a-popover-hidden").show();e&&e.apply(h,b);h.attrs("synchronous")?g():a.delay(function(){g()},0)};this.show=function(){var b=this,c=b.attrs("lightboxOptions")||null;b.isActive()||(b.lock(f),c&&h.lock(f),b.attrs("alone")&&a.each(b.parent.children,function(a){a.isActive()&&a.id!==b.id&&a.unlock().hide()}),k.trigger("beforeShow",b),(!b.$container||
b.isDirty()||b.getDataStrategy().shouldRefreshContent(b))&&y.call(b),c&&h.show(a.extend({popover:b},c)),z.call(b,arguments,!0),a.delay(function(){b.unlock(f);c&&h.unlock(f)},0));return this};this.hide=function(){var b=this,d=b.dependencies,f=d.hideMethod!==c?d.hideMethod:m,g=d.beforeHideMethod!==c?d.beforeHideMethod:null,l=d.afterHideMethod!==c?d.afterHideMethod:null,e=b.attrs("lightboxOptions")||null;!b.isLocked()&&b.isActive()&&(x=r,b.hideChildren(),k.trigger("beforeHide",b),g&&g.apply(b,arguments),
f.apply(b,arguments),i.release(b.$iframe),k.trigger("hide",b),a.delay(function(){l&&l.apply(b,arguments);e&&(b.parent.attrs("lightboxOptions")?h.show(a.extend({popover:b.parent},e)):h.hide(e));k.trigger("afterHide",b);x=-2},0));return this};this.update=function(b){var c=typeof b==="string"?{content:b}:a.copy(b),d=this.attrs(),b=this.getDataStrategy();a.each(c,function(b,a){(b&&!d[a]||d[a]&&d[a]!==b)&&p.push(a)});this.isDirty()&&(c=a.extend({},d,c),this.attrs(c),this.getDataStrategy(c),this.$popover&&
b.unloadContent(this),this.isActive()&&y.call(this,!0));return this};this.refresh=function(b,a){return y.call(this,b||!0,a||!1)};this.isActive=function(){return x>=d};this.isLoaded=function(){return x===n};this.isDirty=function(){return p.length>0};this.lock=function(a){a||(a=b);j<a&&(j=a);return this};this.unlock=function(a){a||(a=b);j<=a&&(j=-1);return this};this.isLocked=function(){return j!==-1};this.dependencies=e;this.attrs(l);a.extend(this,this.attributes)}var c,g=a.$,f=1,b=10,d=1,n=2,r=-1,
u={name:!0,url:!0,content:!0,width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0},o=function(){this.$popover.css({visibility:"visible"}).removeClass("a-popover-hidden")},m=function(){this.$popover.hide().find(".a-lgtbox-vertical-scroll").removeClass("a-lgtbox-vertical-scroll")},t=function(){var b=this.dependencies;return b.skin!==c?b.skin(this):""},p=l.prototype;p.getDataStrategy=function(b){var a=this.dependencies;!b&&!this.attrs("currentDataStrategy")&&(b=this.attrs());
if(b&&(b=b.dataStrategy?j.getStrategyByName(b.dataStrategy):j.guessStrategyByAttrs(b)))a.dataStrategy=b,this.attrs("currentDataStrategy",b.name);return a.dataStrategy};p.getContent=function(){return this.dependencies.getContent!==c?this.dependencies.getContent.apply(this,arguments):null};p.updateContent=function(b){this.dependencies.updateContent!==c&&this.dependencies.updateContent.apply(this,arguments);return this};p.ajax=function(b){return this.update({url:b})};p.updateChildrenPosition=function(){a.each(this.children,
function(b){b.isActive()&&b.updatePosition()});return this};p.updatePosition=function(){var b=this;if(b.id===-1)a.each(b.children,function(b){b.isActive()&&b.updatePosition()});else{var c=b.$popover;a.capabilities.isMetroIEGuess&&a.capabilities.isIETouchCapable?c.css("opacity",0.01):c.css("visibility","hidden");var d=function(){var d=c.find(".a-popover-inner").css({height:"auto","overflow-y":"auto"}),f=b.attrs("position"),g={},g=b.dependencies.positionStrategy?e.customPosition(b,b.dependencies.positionStrategy):
e[f](b);k.trigger("beforeUpdatePosition",b);f={top:g.top+"px",left:g.left+"px"};a.capabilities.isMetroIEGuess&&a.capabilities.isIETouchCapable?f.opacity=1:f.visibility="visible";c.css(f);if(d.length&&(!d[0].style.height||d[0].style.height==="auto")){var h=c.outerHeight()||0,l=c.find(".a-popover-header").outerHeight(!0)||0,i=c.find(".a-popover-footer").outerHeight(!0)||0,f=d.outerHeight(!0)||0,h=h-l-i;f>h&&d.css({height:h+"px","overflow-y":"scroll"})}b.$iframe.height(c.outerHeight()).width(c.outerWidth()).css("z-index",
parseInt(c.css("z-index"),10)-2).show().offset({top:g.top,left:g.left});k.trigger("afterUpdatePosition",b);k.trigger("positionUpdated",b);a.each(b.children,function(b){b.isActive()&&b.updatePosition()})};b.attrs("immersive")&&(a.capabilities.mobile||a.capabilities.tablet)?(c.css({top:0,left:0}),a.delay(function(){d()},0)):d()}return b};p.attrs=function(b,d){var f=this;return d===c&&typeof b!=="object"?b?typeof b==="string"?this.attributes[b]!==c?this.attributes[b]:null:null:this.attributes:(typeof b===
"object"?a.each(b,function(b,a){f.attrs(a,b)}):typeof b==="string"&&(this.attributes[b]=d,f[b]=d),this)};p.hideChildren=function(){a.each(this.children,function(b){b.unlock(f);b.hide()});return this};return{PopoverClass:l}});m.when("jQuery","ready").register("a-changeover",function(a){a(document).delegate(".a-changeover:not(.a-changeover-manual)","webkitAnimationEnd animationend click touchstart",function(){this.style.display="none"})});m.when("A","a-popover-util").register("a-popover-ajax-strategy",
function(a,k){var j=a.$,e=j("html").hasClass("a-lt-ie8");return{name:"ajax",reusePopover:!1,loadContent:function(i,h){var l=i.attrs("url"),c=i.attrs("timeout")||1E4,g=i.attrs("ajaxFailMsg")||"Sorry, content is not available.",f=!!i.attrs("cache"),b=i.attrs("spinnerTimer"),d=i.attrs("ajaxHandler"),j=i.attrs("content");i.attrs("content",null);j&&!h?(i.updateContent(j),b&&clearTimeout(b),d&&d.abort&&d.abort()):(b=a.delay(function(){!i.attrs("content")&&i.attrs("currentDataStrategy")==="ajax"&&k.showSpinner(i)},
e?0:100),d=a.ajax(l,{type:"GET",timeout:c,cache:f,success:function(a){!i.attrs("content")&&i.attrs("currentDataStrategy")==="ajax"&&(clearTimeout(b),k.trigger("ajaxSuccess",i),i.updateContent(a),i.isActive()&&i.updatePosition(),k.trigger("ajaxContentLoaded",i))},error:function(){!i.attrs("content")&&i.attrs("currentDataStrategy")==="ajax"&&(clearTimeout(b),k.trigger("ajaxFail",i),i.updateContent(g),i.isActive()&&i.updatePosition())}}),i.attrs({spinnerTimer:b,ajaxHandler:d}));return this},unloadContent:function(a){k.clearContent(a);
return this},shouldRefreshContent:function(a){return!a.attrs("manualRefresh")},isValidStrategy:function(a){return!!a.url}}});m.when("A","a-popover-util").register("a-popover-inline-strategy",function(a,k){return{name:"inline",reusePopover:!1,loadContent:function(a){var e=a.attrs("content");e&&a.attrs("content",null);if(!e)var e=a.$trigger,i=e.data("action"),e=e.data(i)||{},e=e.inlineContent?e.inlineContent:null;e||(e=a.attrs("inlineContent"));a.updateContent(e);return this},unloadContent:function(a){var e=
a.getContent(),e=e&&e.length>0?e.html():a.attrs("inlineContent"),i=a.$trigger,h=i.data("action"),l=i.data(h)||{};l.inlineContent=e;i.data(h,l);k.clearContent(a);return this},shouldRefreshContent:function(a){return a.isDirty()},isValidStrategy:function(){return!0}}});m.when("A","a-popover-util").register("a-popover-preload-strategy",function(a,k){var j=a.$;return{name:"preload",reusePopover:!0,loadContent:function(a){var i=a.attrs("name"),h=a.attrs("content");a.attrs("content",null);var l;l=j("#a-popover-"+
i);l.detach();if(l.length){l=l[0];for(var c=document.createDocumentFragment();l.firstChild;)c.appendChild(l.firstChild);l=c}else l=!1;h?a.updateContent(h):i&&a.updateContent(l);return this},unloadContent:function(e){var i=e.attrs("name");if(i){var h=e.getContent();if(h&&h.html()){var i="a-popover-"+i,l=j("#"+i);l.length?l=l[0]:(l=document.createElement("div"),l.id=i,l.className="a-popover-preload",document.body.appendChild(l));i=l;if(!a.trim(i.innerHTML))if(h=h[0],typeof h==="string")j(i).html(h);
else{for(l=document.createDocumentFragment();h.firstChild;)l.appendChild(h.firstChild);i.appendChild(l)}k.clearContent(e)}}return this},shouldRefreshContent:function(a){var b;b=(a=a.attrs("name"))?j("#a-popover-"+a):null,a=b;return!(!a||!(a.length&&a.html()!==""))},isValidStrategy:function(a){return!a.name?!1:a.currentDataStrategy==="preload"?!0:!!j("#a-popover-"+a.name).length}}});m.when("A").register("a-dropdown-base-positions",function(a){return{positionStrategy:function(k){var j=k.$popover,e=
k.$trigger,i=k.measure,k=j.find(".a-popover-inner");k.css({"min-width":"0px",width:"auto",height:"auto"});var h=e.closest(".a-button-dropdown");h.length||(h=e.closest(".a-button-group"));var e=i(j,h),i=e.windowWidth-(e.triggerLeft+e.popoverWidth),h=e.windowWidth-e.triggerLeft-e.triggerWidth,l=e.triggerLeft,c={},g=e.triggerTop-e.windowTop,f=e.windowBottom-e.triggerBottom,b=j.find(".a-popover-inner");g>f&&f<e.popoverHeight?(f=g,c.top=g<e.popoverHeight?e.triggerBottom-g:e.triggerBottom-e.popoverHeight):
c.top=e.triggerTop;b.css("height",f<e.popoverHeight?f-e.headerHeight+"px":"auto");e.popoverHeight>f?b.addClass("a-lgtbox-vertical-scroll"):b.removeClass("a-lgtbox-vertical-scroll");k.hasClass("a-lgtbox-vertical-scroll")&&navigator.appVersion.indexOf("Windows")>-1?(g=Math.max(e.popoverWidth,e.triggerWidth)+a.scrollBarWidth(!0),k.width(g)):k.css("min-width",e.triggerWidth+"px");e.popoverWidth=j.width();c.left=i<50&&l>h?e.triggerRight-e.popoverWidth:e.triggerLeft;return c}}});m.when("A","a-dropdown-base-positions").register("a-dropdown-base-variant-base",
function(a,k){return a.extend(k,{updateContent:function(a){typeof a==="string"?this.$popover.find(".a-popover-inner").html(a):a&&this.$popover.find(".a-popover-inner").html("").append(a)},beforeShowMethod:function(){var a=this.id+"_dropdown_combobox";this.parent.lock(1);this.$trigger.attr("aria-pressed",!0).attr("aria-owns",a);this.$popover.find("ol,ul").eq(0).attr("id",a)},afterShowMethod:function(){var j=this.$popover,e=j.find(".a-active");a.delay(function(){e.length?e.closest("li").focus():e=j.find("li").first().focus()},
0)},beforeHideMethod:function(){this.parent.unlock(1)},afterHideMethod:function(){this.$trigger.attr("aria-pressed",!1).focus();this.$popover.css("width","auto")}})});m.when("A","a-dropdown-base-variant-base").register("a-dropdown-base-variant",function(a,k){return k});m.when("A","a-popover-base-factory","a-dropdown-base-variant").register("a-dropdown-base-factory",function(a,k,j){function e(c,g){var f=['<li tabIndex="0" role="option"'],b=c.data("aCssClass"),d=c.data("aId"),h=c.data("aHtmlContent"),
i=c.data("aImageSource"),e=['<a tabIndex="-1" href="javascript:void(0)" data-value="{&quot;stringVal&quot;:&quot;',c.val().replace(/"/g,"\\&quot;"),'&quot;}"'],j=["a-dropdown-link"],k=["a-dropdown-item"];g&&(j.push("a-active"),e.push(' aria-selected="true"'));l&&(a.capabilities.mobile||a.capabilities.tablet)&&j.push("a-list-link-after-group");l=!1;b&&k.push(b);d&&f.push(' id="'+d+'"');f.push(' class="'+k.join(" ")+'"');f.push(">");h?b=h:(b=[],i&&(j.push("a-option-has-image"),b.push('<img src="'+i+
'" class="a-rich-option-image" />')),b.push(c.html()),b=b.join(""));e.push(' class="');e.push(j.join(" "));e.push('">');e.push(b);e.push("</a>");f.push(e.join(""));f.push("</li>");return f.join("")}function i(a){a.jquery||(a=h(a));var g=a.children("optgroup,option:not(.a-prompt)"),f=!1,b=a[0],d,i;if(b.selectedIndex>-1)d=b.options[b.selectedIndex].value;i=a.data("a-has-images")?['<ul tabIndex="-1" class="a-nostyle a-list-link a-box-list" role="listbox" aria-multiselectable="false">']:['<ul tabIndex="-1" class="a-nostyle a-list-link" role="listbox" aria-multiselectable="false">'];
g.each(function(){var b=h(this);b.is("optgroup")?(b.children().each(function(){i.push(e(h(this),d===this.value))}),i.push('<li tabIndex="-1" class="divider"><hr /></li>'),f=l=!0):(i.push(e(b,d===this.value)),f=!1)});f&&i.pop();i.push("</ul>");return i.join("")}var h=a.$,l=!1;return a.extend({create:k.create,remove:k.remove,get:k.get},{type:"dropdown",create:function(c,g,f){var b=g.$button,d=g.$sourceSelect,h=d[0],l=b.find(".a-dropdown-label"),e=d.data("aTouchHeader");if(!e||!e.length&&l.length)e=
l.text();return k.create(c,{attributes:{type:"dropdown",header:e,inlineContent:d,position:g.position,alone:!0,sourceSelect:d,sourceButton:b,name:d[0].name,preventNameReuse:!0,lightboxOptions:a.capabilities.mobile||a.capabilities.tablet?{showDuration:a.capabilities.ios?null:0,hideDuration:0}:null},variant:a.extend({},j,f,{skin:function(b){var a=f.subskin?f.subskin(h):i(h);b.attrs("inlineContent",a);return f.skin(b)}}),actionCheck:!1})}})});m.when("A").register("a-dropdown-base-handlers",function(){});
m.when("A","a-dropdown-select-apis","a-dropdown-base-factory","a-dropdown-base-handlers","a-popover-base").register("a-dropdown-base",function(a,k,j){function e(g,f,b){try{g.$event.preventDefault()}catch(d){}a.delay(function(){var d=f.$button?f.$button:f.getButtonFromEvent(g),i=f.$select?f.$select:f.getSelectFromEvent(g);if(!d.hasClass("a-button-disabled")){l(i,f).isSynced()||h(c.extend({$button:d,$select:i},f));var e=g.$declarativeParent,i=a.extend({},f,{$button:d,$sourceSelect:i}),k=j.create(e,
i,b);if(k&&(k.show(),d.data("a-popover-id",k.id).data("popover",k).data("isPressed",!0),!k.hasOnLoad)){k.hasOnLoad=!0;var m=[],d=k.$popover.find("img");d.length&&(d.each(function(b,a){if(!a.complete||!a.naturalWidth){var d=c.Deferred();m.push(d);c(a).bind("load error",function(){d.resolve()})}}),m.length?c.when.apply(c,m).done(function(){k.updatePosition()}):k.updatePosition())}}})}function i(a){var c=a.$button,a=a.$select;c||(c=a.nextAll(".a-button-dropdown"));return a.length?((c=j.get(c))&&c.hide(),
!0):!1}function h(a){var c=a.$button,a=a.$select;c||(c=a.nextAll(".a-button-dropdown"));return a.length?((c=j.get(c))&&j.remove(c.id),a.data("a-info",null),!0):!1}function l(g,f){var b,d;b=f.$select?f.$select:typeof g==="string"?c("select#"+g):g.jquery?g:c(g);if(!b.length)return null;d=f.$button?f.$button:f.getButtonFromSelect(b);b.data("a-select")?d=b.data("a-select"):(d=a.extend({hidePopover:i,refreshPopover:h,options:a.extend({$select:b,$button:d},f)},k),b.data("a-select",d));return d}var c=a.$;
return{toggleDropdown:function(a,c){var b=(c.$button?c.$button:c.getButtonFromEvent(a)).data("popover");b&&b.$popover.is(":visible")?b.hide():e(a,c)},showDropdown:e,getSelect:l}});m.when("A","jQuery").register("a-dropdown-options-apis",function(){return{update:function(a){typeof a!=="object"&&m.error("input of options.update() function must be a hash");this.hidePopover(this.options);for(var k=0,j=this.size();k<j;k++){var e=this.options.elements[k],i=e[0];a.value&&e.val(a.value);a.selected!==void 0&&
(!i.selected&&a.selected?this.options.$select.val(i.value):i.selected&&!a.selected&&this.options.$select.val(""));a.html_content&&e.data("a-html-content",a.html_content);a.image_source&&e.data("a-image-source",a.image_source);if(a.native_css_class)i.className=a.native_css_class;a.css_class&&e.data("a-css-class",a.css_class);if(a.native_id)i.id=a.native_id;a.id&&e.data("a-id",a.id);a.text&&(e.text(a.text),i.selected&&this.setSelectValue(i.value))}this.refreshPopover(this.options);return this},remove:function(){this.hidePopover(this.options);
for(var a=0,k=this.size();a<k;a++){var j=this.options.elements[a];j.is(":selected")&&this.setSelectValue("");j.remove()}this.refreshPopover(this.options);return!0},info:function(){for(var a=[],k=0,j=this.size();k<j;k++){var e=this.options.elements[k];a.push({value:e[0].value,text:e.text(),selected:e[0].selected,html_content:e.data("a-html-content"),image_source:e.data("a-image-source"),native_css_class:e[0].className,css_class:e.data("a-css-class"),native_id:e[0].id,id:e.data("a-id")})}return a},
size:function(){return this.options.elements.length}}});m.when("A","jQuery","a-dropdown-options-apis").register("a-dropdown-select-apis",function(a,k,j){function e(a){var c=this.options.$select,g=this.options.$button,f=c[0];typeof a==="number"&&(a=a.toString());for(var b=f.options.length;b--;)if(f.options[b].value===a)break;b===-1&&a===""&&(b=0);b>-1&&(g.find(".a-dropdown-prompt").html(f.options[b].innerHTML),g.css("min-width",b/f.options.length+"%"),c.val()!==a&&(c.val(a),c.trigger("change",[h,!0])));
return this}function i(a){return a===h?this.options.$select.val():(this.setValue=e,this.setValue(a))}var h;return{isSynced:function(){var h=this.options.$select,c=h.data("a-info"),g=this.getOptions().info();h.data("a-info",g);return c?a.equals(c,g):!0},update:function(a){typeof a!=="object"&&m.error("input of select.update() function must be a hash");this.hidePopover(this.options);var c={none:!0,micro:!0,mini:!0,small:!0,base:!0,medium:!0,large:!0,"extra-large":!0,"double-large":!0,block:!0},g=this.options.$select,
f=g[0],b=this.options.$button,d=b[0],i=g.siblings("label");if(a.name)f.name=a.name;if(a.option_prompt){var e=g.find(".a-prompt");e.length?(e.text(a.option_prompt),e.prop("selected")&&b.find(".a-dropdown-prompt").text(a.option_prompt)):(g.prepend(k("<option class='a-prompt' />").text(a.option_prompt)),b.find(".a-dropdown-prompt").text(a.option_prompt))}a.has_images!==h&&g.data("a-has-images",!!a.has_images);a.button_size!==h&&b.length&&(a.button_size==="small"?b.addClass("a-button-small"):b.removeClass("a-button-small"));
if(a.spacing!==h&&c.hasOwnProperty(a.spacing))c=/\ba-spacing-[a-z]+\b/g,f.className=f.className.replace(c,""),d.className=d.className.replace(c,""),g.addClass("a-spacing-"+a.spacing),b.addClass("a-spacing-"+a.spacing);if(a.grid_units!==h)c=/\ba-button-span\d{1,2}\b/g,f.className=f.className.replace(c,""),d.className=d.className.replace(c,""),isFinite(a.grid_units)&&a.grid_units>0&&a.grid_units<13&&(g.addClass("a-button-span"+a.grid_units),b.addClass("a-button-span"+a.grid_units));a.width_name&&(a.width_named===
"base"?b.addClass("a-button-width-normal"):b.removeClass("a-button-width-normal"));if(a.status)a.status==="disabled"?(f.disabled=!0,b.addClass("a-button-disabled")):(f.disabled=!1,b.removeClass("a-button-disabled"));if(a.native_id&&(f.id=a.native_id,i.length))i[0].htmlFor=a.native_id;if(a.id)d.id=a.id;a.native_css_class&&((d=g.data("a-native-class"))&&g.removeClass(d),g.addClass(a.native_css_class).data("a-native-class",a.native_css_class));a.css_class&&((d=b.data("a-class"))&&b.removeClass(d),b.addClass(a.css_class).data("a-class",
a.css_class));a.label_text!==h&&(a.label_text===""?(b.find(".a-dropdown-label").remove(),g.siblings("label").remove()):(d=b.find(".a-dropdown-label"),d.length?d.text(a.label_text):b.find(".a-dropdown-prompt").before(k("<span class='a-dropdown-label' />").text(a.label_text)),i.length?i.text(a.label_text):g.before(k("<label for='"+f.id+"' class='a-native-dropdown' />").text(a.label_text))),b.css("min-width",a.label_text===""?"0.1%":"0%"));this.refreshPopover(this.options);return this},setValue:e,val:i,
getOptions:function(e){for(var c=[],g=this.options.$select,f=[],c=e===h?g.children("optgroup, option:not(.a-prompt)"):k.isArray(e)?e:[e],e=0,b=c.length;e<b;e++){var d=c[e],n=[];a.isFiniteNumber(d)?n=g.children("optgroup, option:not(.a-prompt)").eq(d):typeof d==="string"?n=g.children("option#"+d):typeof d==="object"&&(n=d.jquery?d:k(d));n.length&&f.push(n)}return a.extend({hidePopover:this.hidePopover,refreshPopover:this.refreshPopover,setSelectValue:i,options:a.extend({elements:f},this.options)},
j)},getOption:function(a){return this.getOptions(a)},addOptions:function(a,c){k.isArray(a)||(a=[a]);for(var g=a.length;g--;)this.addOption(a[g],c);return this},addOption:function(a,c){var g=this.options.$select;if(!a.native_id||!g.find("option#"+a.native_id).length){var f=g.children("optgroup, option:not(.a-prompt)"),b=document.createElement("option"),d=c&&c>0&&c<=f.length?c:0;if(a.native_id)b.id=a.native_id;f.length===0||d===f.length?g[0].appendChild(b):f.eq(d).before(b);this.getOption(b).update(a)}return this},
removeOptions:function(a){this.getOptions(a).remove();return this},removeOption:function(a){return this.removeOptions(a)},appendOption:function(a){return this.addOption(a,this.options.$select.children("optgroup, option:not(.a-prompt)").length)},appendOptions:function(a){if(k.isArray(a))for(var c=0,g=a.length;c<g;c++)this.addOption(a[c]);return this}}});m.when("A","a-dropdown-options","a-dropdown-apis","a-dropdown-handlers").register("a-dropdown",function(a,k,j){var e=a.$;e(document).delegate(".a-native-dropdown",
"change",function(i,h,l){var c=k.getButtonFromEvent(i),g="",f=this.options.length,b=this.selectedIndex>-1?this.options[this.selectedIndex].value:"",d=c.data("popover"),i=!1,n;if(c.length){for(c=c.eq(0);f--;)if(n=this.options[f],n.value===b){g=n.innerHTML;break}d&&d.$popover&&(d.$popover.find(".a-active").removeClass("a-active").prop("aria-selected",!1),h===void 0&&(h=d.$popover.find('a[data-value="'+('{"stringVal":"'+b+'"}')+'"]')));h&&h.length&&(i=!0,h.addClass("a-active").prop("aria-selected",!0));
c.find(".a-dropdown-prompt").html(g);c.css("min-width",this.selectedIndex/this.options.length+"%");d&&(d.hide(),(c=j.getSelect(this))&&e(this).data("a-info",c.getOptions().info()));if(!l)l=this.name,c=this.id,h={auiItemNode:i?h[0]:null,nativeItemNode:this.options[this.selectedIndex],selectNode:this,id:c,name:l,value:this.value},l&&l!==""&&(a.trigger("a:dropdown:"+l+":select",h),a.trigger("a:dropdown:selected:"+l,h)),c&&c!==""&&a.trigger("a:dropdown:"+c+":select",h),a.trigger("a:dropdown:select",h)}}).delegate(".a-button-dropdown:not(.a-button-disabled)",
"focusin",function(){e(this).find(".a-button-text").focus()});return j});m.when("A","a-dropdown-base","a-dropdown-options").register("a-dropdown-apis",function(a,k,j){function e(a){return k.getSelect(a,j)}var i=a.$;a.on("beforeReady",function(){i(".a-dropdown-container select").each(function(){var a=e(this);a&&a.val(a.val())})});return{getSelect:e,updateOption:function(a,l){var c=i("option#"+a).closest("select");e(c).getOption(a).update(l)},updateSelect:function(a,i){e(a).update(i)},setValue:function(a,
i){e(a).setValue(i)}}});m.when("A").register("a-dropdown-variant",function(){return{skin:function(){return'<div class="a-popover a-dropdown a-dropdown-common"><div class="a-popover-wrapper"><div class="a-popover-inner"></div></div></div>'}}});m.when("A","a-dropdown-base","a-dropdown-variant","a-dropdown-options","a-dropdown-apis","a-dropdown-base-factory").register("a-dropdown-handlers",function(a,k,j,e,i,h){function l(a){a.preventDefault();var a=c(this),f=h.get(a.closest(".a-popover"));if(a.hasClass("a-active"))f.hide();
else{var b=a.data("value").stringVal;f.sourceSelect.val(b).trigger("change",[a])}}var c=a.$;a.declarative("a-dropdown-button","click",function(c){var f=e.getButtonFromEvent(c);k.showDropdown(c,a.extend({$button:f},e),j)});a.declarative("a-dropdown-button","keydown",function(c){var f=e.getButtonFromEvent(c),b=a.constants.keycodes,d=c.$event.which;(d===b.DOWN_ARROW||d===b.ENTER||d===b.SPACE)&&k.showDropdown(c,a.extend({$button:f},e),j)});c(document).delegate(".a-popover.a-dropdown a","click",l).delegate(".a-dropdown li",
"keydown",function(g){var f=c(this),b=a.constants.keycodes;switch(g.which){case b.UP_ARROW:g.preventDefault();f.prev().focus();break;case b.DOWN_ARROW:g.preventDefault();f.next().focus();break;case b.ENTER:case b.SPACE:l.call(f.find("a")[0],g);break;case b.ESCAPE:g.preventDefault(),g=h.get(f.closest(".a-popover")),g.sourceButton.find(".a-button-text").focus(),g.hide()}})});m.when("A").register("a-dropdown-options",function(a){function k(a){return a.popover?a.popover.$trigger.closest(".a-button-dropdown"):
a.$target?a.$target.closest(".a-button-dropdown"):j(a.target).nextAll(".a-button-dropdown")}var j=a.$;return{getButtonFromEvent:k,getButtonFromSelect:function(a){return a.nextAll(".a-button-dropdown")},getSelectFromEvent:function(a){a=k(a).prevAll("select").eq(0);a.length||m.error("Cannot locate the <select> of dropdown");return a},triggerSelector:".a-button-dropdown"}});m.when("A").register("a-dropdown-split-variant",function(){return{skin:function(){return'<div class="a-popover a-splitdropdown a-dropdown-common">\n<div class="a-popover-wrapper">\n<div class="a-popover-inner"></div>\n</div>\n</div>'}}});
m.when("A","a-dropdown-base","a-dropdown-split-utils","a-dropdown-split-variant","a-dropdown-split-options","a-dropdown-base-factory").register("a-dropdown-split-handlers",function(a,k,j,e,i,h){var l=a.$;a.declarative("a-splitdropdown-button","click",function(c){var g=i.getButtonFromEvent(c);k.showDropdown(c,a.extend({$button:g},i),e)});a.declarative("a-splitdropdown-main","click",function(a){var g=a.$target.closest(".a-splitdropdown-container").find("select"),f=g.attr("id"),b=g.val();j.triggerEvent(f,
g,b);a.$event.preventDefault()});a.declarative("a-splitdropdown-button","keydown",function(c){var g=i.getButtonFromEvent(c),f=a.constants.keycodes,b=c.$event.which;(b===f.DOWN_ARROW||b===f.ENTER||b===f.SPACE)&&k.showDropdown(c,l.extend({$button:g},i),e)});l(document).delegate(".a-popover.a-splitdropdown a","click",function(a){var g=l(this),f=g.data("value").stringVal,g=h.get(g.closest(".a-popover")),b=g.sourceSelect,d=b.attr("id");g.hide();j.triggerEvent(d,b,f);a.preventDefault()}).delegate(".a-splitdropdown li",
"keydown",function(c){var g=l(this),f=a.constants.keycodes;switch(c.which){case f.UP_ARROW:c.preventDefault();g.prev().focus();break;case f.DOWN_ARROW:c.preventDefault();g.next().focus();break;case f.ENTER:case f.SPACE:c.preventDefault();g.find("a").trigger("click");break;case f.ESCAPE:c.preventDefault(),c=h.get(g.closest(".a-popover")),c.sourceButton.find(".a-button-text").focus(),c.hide()}})});m.when("A").register("a-dropdown-split-options",function(a){function k(a){return a.popover?a.popover.$trigger.closest(".a-button-splitdropdown"):
a.$target?a.$target.closest(".a-button-splitdropdown"):j(a.target).nextAll(".a-button-splitdropdown")}var j=a.$;return{getButtonFromEvent:k,getButtonFromSelect:function(a){return a.next(".a-button-group-splitdropdown").find(".a-button-splitdropdown")},getSelectFromEvent:function(a){a=k(a).closest(".a-splitdropdown-container").find("select");a.length||m.error("cannot locate the <select> of the split dropdown");return a}}});m.when("A").register("a-dropdown-split-utils",function(a){return{triggerEvent:function(k,
j,e){j={$select:j,value:e,id:k};a.trigger("a:splitdropdown:"+k+":select",j);a.trigger("a:splitdropdown:select",j)}}});m.when("A","a-dropdown-base","a-dropdown-split-options","a-dropdown-split-utils","a-dropdown-split-handlers").register("a-splitdropdown",function(a,k,j,e){var i=a.$;i(document).delegate(".a-native-splitdropdown","change",function(a,l,c){var a=i(this),l=a.val(),g=a.attr("id");c||e.triggerEvent(g,a,l)}).delegate(".a-button-splitdropdown:not(.a-button-disabled)","focusin",function(){i(this).find(".a-button-text").focus()});
return{getSelect:function(a){return k.getSelect(a,j)}}});m.when("A","a-popover-util").register("a-popover-ajax",function(a,k){return{update:function(a,e,i){var h={};h.url=e;if(i.timeout)h.timeout=i.timeout;if(i.ajaxFailMsg)h.ajaxFailMsg=i.ajaxFailMsg;if(i.cache)h.cache=i.cache;a.update(h)},showSpinner:function(a){return k.showSpinner(a)}}});m.when("A","a-popover-util","a-popover-inline-strategy","a-popover-preload-strategy","a-popover-ajax-strategy").register("a-popover-data",function(a,k,j,e,i){var h=
[i,e,j];return{guessStrategyByAttrs:function(a){for(var c=0,g=h.length;c<g;c++){var f=h[c];if(f.isValidStrategy(a))return f}},getStrategyByName:function(a){for(var c=0,g=h.length;c<g;c++){var f=h[c];if(f.name===a)return f}return null},showSpinner:k.showSpinner}});m.when("A","ready").register("a-popover-iframes",function(a){function k(){if(e){i++;var a=document.createElement("iframe");a.src="javascript:false;";a.id="a-popover-iframe-"+i;a.className="a-popover-iframe";a.style.cssText="width: 0; height: 0; border: 0; opacity: 0; filter: alpha(opacity = 0); zoom: 1; display: none; position: absolute;";
a.frameborder="0";a.tabindex="-1";document.body.appendChild(a);return j(a)}else return j()}var j=a.$;j("body");var e=document.documentElement.className.indexOf("a-ie6")>-1,i=0,h=[],l=[];a.on.ready(function(){e&&h.push(k())});return{get:function(){if(e){var a=h.length===0?k():h.shift();l.push(a);return a}else return j()},release:function(c){e&&(c.hide(),a.each(l,function(a,f){c.is(a)&&l.splice(1,f)}),h.push(c))}}});m.when("A","a-popover-lightbox-markup","ready").register("a-popover-lightbox",function(a,
k){function j(b){b.preventDefault();b.stopPropagation();b.stopImmediatePropagation();return!1}function e(){document.body.addEventListener("click",j,!0);n=!0}function i(){document.body.removeEventListener("click",j,!0);n=!1}var h=a.$,l=document.documentElement.className,c=l.indexOf("-ie")>-1,g=l.indexOf("a-lt-ie7")>-1,f=a.capabilities.isIE10Plus&&a.capabilities.mobile,b=k.id,d=k.div,n=!1,r=null,m=-1,o=-1,q=-1,t=null;h(document).delegate("#"+b,"click "+a.action.start+" "+a.action.move,function(b){b.preventDefault()});
a.declarative("a-popover-floating-close",a.capabilities.touch?"touchend":"click",function(b){!n&&b.$target.data("action")&&b.$target.data("action").indexOf("a-popover-floating-close")>-1&&t&&t.isActive()&&(t.unlock().hide(),b.$event.preventDefault())});return{show:function(l){var j=h(window);r||(h("body").append(d),r=h("#"+b));l=l||{};(a.capabilities.touch||a.capabilities.pointerPrefix)&&e();l.lockScroll&&(o===-1&&(o=j.scrollTop(),q=j.scrollLeft()),a.setCssImportant(h("body"),"margin-right",a.scrollBarWidth()+
"px"),f||(c?h("html, body").css("overflow","hidden"):h("body").css("overflow","hidden")));j=(t=l.popover||null)?t.$popover.css("z-index")-2:-1;j>0&&r.css("z-index",j);if(typeof l.showDuration!=="number")l.showDuration=200;g&&(o>-1&&r.css("top",o+"px"),q>-1&&r.css("left",q+"px"));l.showDuration>0?a.fadeIn(r,l.showDuration):r.css("display","block");(a.capabilities.touch||a.capabilities.pointerPrefix)&&a.delay(i,l.showDuration+300)},hide:function(b){var d=h(window);if(!(m>-1)&&r){b=b||{};(a.capabilities.touch||
a.capabilities.pointerPrefix)&&e();if(typeof b.hideDuration!=="number")b.hideDuration=250;b.hideDuration>0?a.fadeOut(r,b.duration,"linear",function(){b.lockScroll&&(h("html, body").css("overflow",""),h("body").css("margin-right",""),a.delay(function(){o>0&&(d.scrollTop(o),o=-1);q>0&&(d.scrollLeft(q),q=-1)},100));t=null}):(r.css("display","none"),b.lockScroll&&(h("html, body").css("overflow",""),h("body").css("margin-right",""),o>0&&(h(window).scrollTop(o),o=-1)),t=null);r.css({height:"",width:""});
(a.capabilities.touch||a.capabilities.pointerPrefix)&&a.delay(i,b.hideDuration+350)}},lock:function(b){b||(b=10);m<b&&(m=b)},unlock:function(b){b||(b=10);m<=b&&(m=-1)},LIGHTBOX_ID:b}});m.when("A","ready").register("a-popover-lightbox-markup",function(){return{id:"a-popover-lgtbox",div:'<div id="a-popover-lgtbox" class="a-declarative" data-action="a-popover-floating-close" />'}});m.when("A","ready").register("a-popover-navigate",function(a){function k(a){if(typeof a==="string")h=!0,window.location.hash=
a;return window.location.hash||""}var j=a.$,j=j(window),e=[],i=[],h=!1,l={},c=!1;i.push(k());j.bind("hashchange",function(g){g.preventDefault();c?c=!1:i.push(k());i.length>=32&&i.shift();h?h=!1:a.trigger("a:popover:navigate",l[i[i.length-1]])});a.on("a:popover:navigate",function(a){a?a.show({preventNavigate:!0}):(a=e.length-1>=0?e[e.length-1]:null)&&a.popover.hide({preventNavigate:!0})});a.on("a:popover:show",function(a){e.push(a)});a.on("a:popover:hide",function(){e.pop()});return{forward:function(c){var f=
c.name+"_"+a.now();l["#"+f]=c;k(f)},back:function(){i.length>0&&i.pop();c=!0;window.history.back()}}});m.when("A").register("a-popover-position",function(a){function k(c,b){var d=c.outerHeight(!0),i=c.outerWidth(!0),e=c.offset(),j=b.offset(),k;a.viewport().zoom===1?k={top:0,left:0}:(l||(l=h('<span id="a-popover-offset-tracker"></span>'),h("body").prepend(l)),k=l.offset());var m=c.find(".a-popover-header"),m=m.length?m.outerHeight(!0):0;if(g){var t=window.pageYOffset-document.documentElement.scrollTop;
e.top-=t;j.top-=t}e.left-=k.left;e.top-=k.top;j.left-=k.left;j.top-=k.top;var p,s;p=b[0];var t=a.viewport(),w=t.scrollLeft,v=t.scrollTop;p.getBoundingClientRect?(s=p.getBoundingClientRect(),p=s.right-s.left,s=s.bottom-s.top):(p=b.width(),s=b.height());return{popoverHeight:d,popoverWidth:i,popoverLeft:e.left,popoverTop:e.top,popoverRight:e.left+i,popoverBottom:e.top+d,popoverVerticalCenter:e.top+d/2,popoverHorizontalCenter:e.left+i/2,headerHeight:m,triggerHeight:s,triggerWidth:p+1,triggerLeft:j.left-
1,triggerTop:j.top-1,triggerRight:j.left+p+1,triggerBottom:j.top+s+1,triggerVerticalCenter:j.top+s/2,triggerHorizontalCenter:j.left+p/2,windowHeight:t.height,windowWidth:t.width,windowTop:v,windowLeft:w,windowRight:w+t.width,windowBottom:v+t.height,zoomTop:k.top,zoomLeft:k.left}}function j(a){return a.removeClass("a-arrow-top a-arrow-bottom a-arrow-left a-arrow-right")}function e(a){var b={deltaTop:0},d=0;b.top=a.triggerVerticalCenter-a.popoverHeight/2;if(b.top<a.windowTop+c)d=Math.min(a.windowTop+
c,a.triggerTop-c),b.deltaTop=b.top-d,b.top=d;else if(b.top+a.popoverHeight>a.windowBottom-c)d=Math.min(c,a.windowBottom-a.triggerBottom+c),b.deltaTop=b.top+a.popoverHeight-(a.windowBottom-d),b.top=a.windowBottom-d-a.popoverHeight;return b}function i(a){var b={deltaLeft:0},d=0;b.left=a.triggerHorizontalCenter-a.popoverWidth/2;if(b.left<c)d=Math.min(c,a.triggerLeft-c),b.deltaLeft=b.left-d,b.left=d;else if(b.left+a.popoverWidth>a.windowRight-c)d=Math.min(c,a.windowWidth-a.triggerRight+c),b.deltaLeft=
b.left+a.popoverWidth-(a.windowRight-d),b.left=a.windowRight-d-a.popoverWidth;return b}var h=a.$;h(window);var l=null,c=20,g=a.capabilities.mobile&&a.capabilities.isIE10Plus;return{windowCenter:function(a){var a=k(a.$popover,a.$trigger),b={};b.top=(a.windowHeight-a.popoverHeight)/2;b.left=(a.windowWidth-a.popoverWidth)/2;if(b.top<0)b.top=0;return b},windowTop:function(a){var a=k(a.$popover,a.$trigger),b={top:0};b.left=a.windowWidth/2-a.popoverWidth/2;return b},windowFullWidth:function(){return{top:0,
left:0}},triggerRight:function(a,b){var d=a.$popover,c=a.$trigger;b||(b=k(d,c));c=e(b);c.left=b.triggerRight;j(d).addClass("a-arrow-right");d.find(".a-arrow-border").css("top",b.popoverHeight/2+c.deltaTop);return c},triggerLeft:function(a,b){var c=a.$popover,g=a.$trigger;b||(b=k(c,g));g=e(b);g.left=b.triggerLeft-b.popoverWidth;j(c).addClass("a-arrow-left");c.find(".a-arrow-border").css("top",b.popoverHeight/2+g.deltaTop);return g},triggerTop:function(a,b){var c=a.$popover,g=a.$trigger;b||(b=k(c,g));
g=i(b);g.top=b.triggerTop-b.popoverHeight;j(c).addClass("a-arrow-top");c.find(".a-arrow-border").css("left",b.popoverWidth/2+g.deltaLeft);return g},triggerBottom:function(a,b){var c=a.$popover,g=a.$trigger;b||(b=k(c,g));g=i(b);g.top=b.triggerBottom;j(c).addClass("a-arrow-bottom");c.find(".a-arrow-border").css("left",b.popoverWidth/2+g.deltaLeft);return g},triggerHorizontal:function(a,b){var d=a.$popover,g=a.$trigger;b||(b=k(d,g));return b.triggerLeft-b.windowLeft>b.popoverWidth+c?this.triggerLeft(a,
b):this.triggerRight(a,b)},triggerVertical:function(a,b){var d=a.$popover,g=a.$trigger,d=b?b:k(d,g);return d.triggerTop-d.windowTop>d.popoverHeight+c?this.triggerTop(a,d):this.triggerBottom(a,d)},triggerVerticalAlignLeft:function(a,b){var d=a.$popover,g=a.$trigger;b||(b=k(d,g));var g={},h=0,i=0,e=b.windowBottom-b.triggerBottom;g.left=b.triggerLeft;g.top=e>b.popoverHeight?b.triggerBottom+3:b.triggerTop-b.popoverHeight-3;if(g.left<c)i=Math.min(c,b.triggerLeft-c),h=g.left-i,g.left=i;else if(g.left+b.popoverWidth>
b.windowRight-c)i=Math.min(c,b.windowWidth-b.triggerRight+c),h=g.left+b.popoverWidth-(b.windowRight-i),g.left=b.windowRight-i-b.popoverWidth;j(d).addClass(e>b.popoverHeight?"a-arrow-bottom":"a-arrow-top");d.find(".a-arrow-border").css("left",b.triggerWidth/2+h);return g},customPosition:function(a,b){return b.call(this,{popover:a,$popover:a.$popover,$trigger:a.$trigger,measure:k})}}});m.when("A").register("a-popover-util",function(a){function k(a,h){for(var e=a.children.length;e--;){var c=k(a.children[e],
h);if(c)return c}if(h(a))return a}var j=a.$,e=/^-?\d+(?:\.\d+)?$/;return{trigger:function(i,h){a.trigger("a:popover:"+i,{popover:h});h.name&&a.trigger("a:popover:"+i+":"+h.name,{popover:h})},extractDeclarativeParams:function(a,h){var e=j(a),e=e.hasClass("a-declarative")?e:e.find(".a-declarative").eq(0),c="a-"+h,g=e.length?e.data("action").indexOf(c)!==-1:!1,c=e?e.data(c):null;return g?{attributes:c,$trigger:e}:null},eventOccursWithin:function(a,h){var e=j(a.target);return e.closest(h.$trigger).length>
0||e.closest(h.$popover).length>0},search:k,getCSSHash:function(i){var h={};a.each("height,width,max-height,max-width,min-height,min-width".split(","),function(j){if(i[j]){var c=i[j];if(a.isFiniteNumber(c)||e.test(c))c+="px";h[j]=c}});h.height&&!h["max-height"]&&(h["max-height"]="none");h.width&&!h["max-width"]&&(h["max-width"]="none");return h},clearContent:function(a){(a=a.getContent())&&a.empty()},showSpinner:function(a){a.updateContent('<div class="a-popover-loading-wrapper a-text-center"><div class="a-box a-color-base-background a-popover-loading"></div></div>');
a.updatePosition();return a}}});m.when("A","a-popover-util").register("a-modal-variant-base",function(a,k){var j=a.$,e=j("html").hasClass("a-lt-ie9");return{updateContent:function(a){typeof a==="string"?this.$popover.find(".a-popover-inner").html(a):a&&this.$popover.find(".a-popover-inner").html("").append(a)},updateDimensions:function(){var a=this.$popover,h=k.getCSSHash(this.attrs());a.css(h);h.height?a.addClass("a-popover-modal-fixed-height"):a.removeClass("a-popover-modal-fixed-height");this.isActive()&&
this.updatePosition();return this},getContent:function(){return this.$popover?this.$popover.find(".a-popover-inner"):null},showMethod:function(){var i=this.$popover;!e&&this.attrs("currentDataStrategy")!=="ajax"?(i.css({opacity:0,visibility:"visible"}).removeClass("a-popover-hidden"),a.delay(function(){a.animate(i,{opacity:1},500,"linear")},0)):a.delay(function(){i.css({visibility:"visible"}).removeClass("a-popover-hidden")},0)},hideMethod:function(){e?this.$popover.hide().css("visibility","hidden").find(".a-lgtbox-vertical-scroll").removeClass("a-lgtbox-vertical-scroll"):
a.fadeOut(this.$popover,250,"linear")}}});m.when("A","a-modal-variant-base","a-modal-positions").register("a-modal-variant",function(a,k,j){var e=a.$,e=e("html").hasClass("a-lt-ie9");return a.extend(k,a.capabilities.touch||a.capabilities.mobile||a.capabilities.tablet||e?j.innerScroll:j.modalScroll,{skin:function(a){var h=a.attrs("header")||"",e=a.attrs("footer"),a=a.attrs("closeButton")?'<button data-action="a-popover-close" class="a-button-close a-declarative"><i class="a-icon a-icon-close"></i></button>':
"",e=e?['<div class="a-popover-footer">',e,"</div>"].join(""):"";return['<div class="a-modal-scroller a-declarative" data-action="a-popover-floating-close"><div class="a-popover a-popover-modal"><div class="a-popover-wrapper"><div class="a-popover-header">',a,'<h4 class="a-popover-header-content">',h,'</h4></div><div class="a-popover-inner"></div>',e,"</div></div></div>"].join("")}})});m.when("A","a-popover-lightbox").register("a-modal-positions",function(a,k){function j(a){var g=a.$popover.closest(".a-modal-scroller");
g.scrollTop(0).css("visibility","visible");g.bind("scroll",function(){a.updateChildrenPosition()})}function e(){var c=a.viewport();c.width/c.height>2&&a.delay(function(){document.activeElement.scrollIntoView();window.scrollTo(window.pageXOffset,0)},0)}var i=a.$,h=document.documentElement.className.indexOf("a-lt-ie7")>-1,l=a.capabilities.isIE10Plus&&a.capabilities.mobile;return{innerScroll:{positionStrategy:function(c){var g=c.popover,f=c.$popover,b=c.$trigger,d=f.find(".a-popover-inner").css("height",
"auto"),j=f.closest(".a-modal-scroller"),m={},u=a.viewport(!0),o=u.height*0.1,u=u.height*0.8,q=g.attrs("height"),g=g.attrs("min-height");f.css({height:q?q:"","min-height":g?g:""});c=c.measure(f,b);m.left=(c.windowWidth-c.popoverWidth)/2;if(m.left<0)m.left=o,f.css("padding-right",o);c.popoverHeight>u?(b=f.find(".a-popover-header").outerHeight()||0,g=f.find(".a-popover-footer").outerHeight()||0,d.css({height:u-b-g+"px","overflow-y":"auto"}),f.css({height:u,"min-height":0}),m.top=o):(m.top=(c.windowHeight-
c.popoverHeight)/2,d.css("height","auto"));m.left+=c.zoomLeft;m.top+=c.zoomTop;h&&j.css("top",document.getElementById(k.LIGHTBOX_ID).style.top);l&&(j.css("top",i(window).scrollTop()),f.removeClass("a-popover-pan-y").addClass("a-popover-pan-x"),f=i(document).height(),d=i(document).width(),i("#"+k.LIGHTBOX_ID).css({height:f,width:d>c.popoverWidth?d:c.popoverWidth+o}));a.capabilities.isMetroIEGuess&&a.capabilities.isIETouchCapable&&e();return m},beforeShowMethod:a.constants.NOOP,beforeHideMethod:a.constants.NOOP},
modalScroll:{positionStrategy:function(c){var g=c.$popover,f=c.$trigger,b=g.closest(".a-modal-scroller"),d=g.find(".a-popover-inner").css("height","auto");if(g.hasClass("a-popover-modal-fixed-height")){var h=g.find(".a-popover-footer");d.css("padding-bottom",h.height()+15)}var d={},i=a.viewport(!0),j=i.height,h=j*0.1;j*=0.8;var i=i.width*0.8,k=g.height(),l=g.width(),c=c.measure(g,f);d.left=(c.windowWidth-l)/2;d.top=(c.windowHeight-k)/2;if(l>i)d.left=h,g.css("padding-right",h);if(k>j)if(b.length)d.top=
0,g.css({position:"static",margin:c.zoomTop+h+"px 0 "+h+"px "+(c.zoomLeft+d.left)+"px"}),b.css("padding-bottom","1px");else{if(l>i)d.left=h;if(k>j)d.top=h}else b.length&&(g.css({position:"absolute",margin:"0px"}),b.css("padding-bottom","0px"));d.left+=c.zoomLeft;d.top+=c.zoomTop;a.capabilities.isMetroIEGuess&&a.capabilities.isIETouchCapable&&e();return d},beforeShowMethod:function(){j(this)},beforeHideMethod:function(){this.$popover.closest(".a-modal-scroller").css("visibility","hidden").unbind("scroll")}}}});
m.when("A","a-popover-base-factory","a-modal-variant","a-popover-util").register("a-modal-factory",function(a,k,j,e){function i(a,f){f={type:h,alone:!0,immersive:!0,position:"windowCenter",header:f.header,footer:f.footer,width:f.width,height:f.height,"max-width":f["max-width"],"max-height":f["max-height"],"min-width":f["min-width"],"min-height":f["min-height"],closeButton:f.closeButton==="false"||f.closeButton===!1?!1:!0,timeout:f.timeout,lightboxOptions:{lockScroll:!0,showDuration:l||c?0:null},data:f.data||
{},dataStrategy:f.dataStrategy,url:f.url,manualRefresh:!!f.manualRefresh,ajaxFailMsg:f.ajaxFailMsg,cache:f.cache==="false"||f.cache===!1?!1:!0,inlineContent:f.inlineContent?f.inlineContent:f.content,name:f.name};return k.create(a,{attributes:f,variant:j,actionCheck:!0})}var h="modal",l=document.documentElement.className.indexOf("a-lt-ie9")>-1,c=a.capabilities.mobile&&a.capabilities.isIE10Plus;return{type:h,create:i,get:function(a){var c=k.get(a,h);!c&&typeof a==="object"&&(a=e.extractDeclarativeParams(a,
h))&&(c=i(a.$trigger,a.attributes||{}));return c},remove:function(a){return k.remove(a,h)}}});m.when("A","a-popover-base-factory","a-modal-factory").register("a-modal-handlers",function(a,k,j){var e=a.$;a.declarative("a-modal","click",function(a){j.get(a.$declarativeParent).show();a.$event.preventDefault()});e(document).keydown(function(i){if(i.keyCode===a.constants.keycodes.ESCAPE)for(var i=k.getRoot(),h=i.children.length,e=!1;h--&&!e;){var c=i.children[h];c.type==="modal"&&c.isActive()&&(c.unlock().hide(),
e=!0)}});e(document).delegate(".a-modal-scroller","click "+a.action.start+" "+a.action.move,function(a){a.target===this&&a.preventDefault()})});m.when("A","a-modal-factory","a-popover-base","a-modal-handlers").register("a-modal",function(a,k){return k});m.when("A","a-popover-util").register("a-popover-variant-base",function(a,k){return{updateContent:function(a){typeof a==="string"?this.$popover.find(".a-popover-content").html(a):a&&this.$popover.find(".a-popover-content").html("").append(a)},updateDimensions:function(){this.$popover.css(k.getCSSHash(this.attrs()));
this.isActive()&&this.updatePosition();return this},getContent:function(){return this.$popover?this.$popover.find(".a-popover-content"):null},hideMethod:function(){a.fadeOut(this.$popover,250,"linear")}}});m.when("A","a-popover-variant-base","a-popover-util").register("a-popover-variant",function(a,k){return a.extend(k,{skin:function(a){var e=a.attrs("header"),a=a.attrs("closeButton")?'<button data-action="a-popover-close" class="a-button-close a-declarative"><i class="a-icon a-icon-close"></i></button>':
"",e=e&&e!==""?['<div class="a-popover-header">',a,'<h4 class="a-popover-header-content">'+e+"</h4>","</div>"].join(""):"";return['<div class="a-popover a-declarative" data-action="a-popover-container"><div class="a-popover-wrapper">',e,'<div class="a-popover-inner">',e===""?a:"",'<div class="a-popover-content"></div></div><div class="a-arrow-border"><div class="a-arrow"></div></div></div></div>'].join("")}})});m.when("A","a-popover-base-factory","a-popover-variant","a-popover-util").register("a-popover-factory",
function(a,k,j,e){function i(a,c){c={type:h,alone:!0,header:c.header,width:c.width,height:c.height,"max-width":c["max-width"],"max-height":c["max-height"],"min-width":c["min-width"],"min-height":c["min-height"],closeButton:c.closeButton==="false"||c.closeButton===!1?!1:!0,position:c.position||"triggerVertical",activate:c.activate||"onmouseover",timeout:c.timeout,data:c.data||{},dataStrategy:c.dataStrategy,url:c.url,manualRefresh:!!c.manualRefresh,ajaxFailMsg:c.ajaxFailMsg,cache:c.cache==="false"||
c.cache===!1?!1:!0,inlineContent:c.inlineContent?c.inlineContent:c.content,name:c.name};return k.create(a,{attributes:c,variant:j,actionCheck:!0})}var h="popover";return{type:h,create:i,get:function(a){var c=k.get(a,h);!c&&typeof a==="object"&&(a=e.extractDeclarativeParams(a,h))&&(c=i(a.$trigger,a.attributes||{}));return c},remove:function(a){return k.remove(a,h)}}});m.when("A","a-popover-factory").register("a-popover-handlers",function(a,k){function j(c){if(c&&!c.destroyTimer)c.destroyTimer=a.delay(function(){c.hide()},
250)}function e(a){if(a)clearTimeout(a.destroyTimer),a.destroyTimer=null,clearTimeout(a.parent.destroyTimer),a.parent.destroyTimer=null}var i=a.$,h=2,l=200,h=2,l=200;a.declarative("a-popover","click",function(a){var c=k.get(a.$declarativeParent);c&&c.attrs("activate")==="onclick"&&(c.show(),a.$event.preventDefault())});var c;a.declarative("a-popover","mouseenter",function(g){var f=k.get(g.$declarativeParent);f&&f.attrs("activate")==="onmouseover"&&(e(f),c=a.delay(function(){k.get(g.$declarativeParent).show()},
l))});a.declarative("a-popover","mousemove",function(c){a.cursor().speed<h&&(c=k.get(c.$declarativeParent))&&c.attrs("activate")==="onmouseover"&&c.show()});a.declarative("a-popover","mouseleave",function(a){if((a=k.get(a.$declarativeParent))&&a.attrs("activate")==="onmouseover")a&&j(a),c&&clearTimeout(c)});a.declarative("a-popover-container","mouseenter",function(a){(a=k.get(a.$declarativeParent))&&a.attrs("activate")==="onmouseover"&&e(a)});a.declarative("a-popover-container","mouseleave",function(c){var f=
k.get(c.$declarativeParent),b=!0,d=i(c.$event.relatedTarget);f&&f.attrs("activate")==="onmouseover"&&f.isActive()&&(a.each(f.children,function(a){if(d.closest(a.$popover).length)return b=!1}),b&&(j(f),!f.parent.immersive&&d.closest(f.parent.$popover).length===0&&j(f.parent)))})});m.when("A","a-popover-factory","a-popover-base","a-popover-handlers").register("a-popover",function(a,k){return k});m.when("A","a-popover-base-factory","a-secondary-view-variant","p-detect","a-popover-util").register("a-secondary-view-factory",
function(a,k,j,e,i){function h(a,d){d.disableAnimation=d.disableAnimation||g;return k.create(a,{attributes:{type:c,immersive:!0,disableAnimation:f||d.disableAnimation,synchronous:!!(f||d.synchronous&&d.synchronous!=="false"),animationLength:d.disableAnimation?0:300,alternateBackground:d.alternateBackground||!1,hideHeader:f||d.hideHeader||!1,scrollable:d.scrollable||!0,header:d.header,backButtonText:d.backButtonText,position:"windowFullWidth",timeout:d.timeout,dataStrategy:d.dataStrategy,inlineContent:d.inlineContent?
d.inlineContent:d.content,url:d.url,manualRefresh:!!d.manualRefresh,name:d.name,cache:d.cache==="false"||d.cache===!1?!1:!0,data:d.data||{}},variant:j,actionCheck:!0})}var l=a.$,c="secondary-view",g=navigator.userAgent.match(/Android\s[12]/),f=!1;m.when("mash-will-load").execute(function(){f=!0});return{type:c,create:h,get:function(a){var d=k.get(a,c);if(!d&&typeof a==="object"){var f=i.extractDeclarativeParams(a,c);f&&(d=h(f.$trigger,f.attributes||{}))}if(d&&typeof a==="object")a=l(a),a=a.hasClass("a-declarative")?
a:a.find(".a-declarative").eq(0),f="a-"+c,a=a?a.data(f):null,d.data=a.data;return d},remove:function(a){return k.remove(a,c)}}});m.when("A","a-popover-base","a-secondary-view-factory","a-secondary-view-handlers").register("a-secondary-view",function(a,k,j){return j});m.when("A").register("a-tooltip-variant-base",function(a){return{updateContent:function(a){this.$popover.find(".a-tooltip-inner").html(a)},getContent:function(){return this.$popover?this.$popover.find(".a-tooltip-inner"):null},hideMethod:function(){a.fadeOut(this.$popover,
250,"linear")}}});m.when("A","a-tooltip-variant-base").register("a-tooltip-variant",function(a,k){return a.extend(k,{skin:function(){return'<div class="a-popover a-tooltip a-declarative" data-action="a-popover-close"><div class="a-tooltip-inner"></div><div class="a-arrow-border"><div class="a-arrow"></div></div></div>'}})});m.when("A","a-popover-base-factory","a-tooltip-variant","a-popover-util").register("a-tooltip-factory",function(a,k,j,e){function i(a,c){c={type:h,inlineContent:c.inlineContent?
c.inlineContent:c.content,position:c.position||"triggerVertical",activate:c.activate||"onmouseover"};return k.create(a,{attributes:c,variant:j,actionCheck:!0})}var h="tooltip";return{type:h,create:i,get:function(a){var c=k.get(a,h);!c&&typeof a==="object"&&(a=e.extractDeclarativeParams(a,h))&&(c=i(a.$trigger,a.attributes||{}));return c},remove:function(a){return k.remove(a,h)}}});m.when("A","a-tooltip-factory").register("a-tooltip-handlers",function(a,k){a.declarative("a-tooltip","click",function(a){var e=
k.get(a.$declarativeParent);e&&e.attrs("activate")==="onclick"&&(e.show(),a.$event.preventDefault())});a.declarative("a-tooltip","mouseenter",function(a){if((a=k.get(a.$declarativeParent))&&a.attrs("activate")==="onmouseover")if(a.show(),a.destroyTimer)clearTimeout(a.destroyTimer),a.destroyTimer=null});a.declarative("a-tooltip","mouseleave",function(j){var e=k.get(j.$declarativeParent);if(e&&e.attrs("activate")==="onmouseover")e.destroyTimer=a.delay(function(){e.hide()},125)})});m.when("A","a-tooltip-factory",
"a-popover-base","a-tooltip-handlers").register("a-tooltip",function(a,k){return k})})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUIPopoverJS"):m}());(function(m){m.execute(function(){})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUIPopover"):m}());
(function(m){m.execute(function(){m.when("A").register("a-tabs",function(a){var k=a.$;a.declarative("a-tabs",["click"],function(j){var e=j.$target.closest("li"),i=j.data.name,h=e.data("a-tab-name"),l=e.closest(".a-tab-container").find(".a-box-tab");h&&(k("li.a-active",e.closest(".a-tabs")).removeClass("a-active"),e.closest("li").addClass("a-active"),l.addClass("a-hidden"),l.filter('[data-a-name="'+h+'"]').removeClass("a-hidden"),e={$tab:e,tabName:h,tabSetName:i},a.trigger("a:tabs:"+i+":select",{selectedTab:e}),
a.trigger("a:tabs:"+i+":"+h+":select",{selectedTab:e}),j.$event.preventDefault())})});m.when("A").register("a-accordion",function(a){var k="slideDown",j="slideUp",e=300;if(a.capabilities.mobile||a.capabilities.tablet)k="show",j="hide",e=0;a.declarative("a-accordion",["click"],function(i){var h=i.$target.closest(".a-accordion"),l=i.$target.closest(".a-box"),c=h.find(".a-box").not(l),g=h.data("a-accordion-name"),f=l.data("a-accordion-row-name"),h=h.hasClass("a-accordion-collapse");if(f){var b=l.find(".a-accordion-inner"),
d=!0;if(l.hasClass("a-accordion-active"))if(h)b[j]({duration:e,complete:function(){l.removeClass("a-accordion-active").attr("aria-expanded","false");l.find(".a-icon.a-accordion-radio").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive")}});else d=!1;else c.find(".a-accordion-inner").attr("aria-expanded","false")[j]({duration:e,complete:function(){c.removeClass("a-accordion-active")}}),b.attr("aria-expanded","true")[k]({duration:e,complete:function(){l.addClass("a-accordion-active");
c.find(".a-icon.a-accordion-radio").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive");l.find(".a-icon.a-accordion-radio").removeClass("a-icon-radio-inactive").addClass("a-icon-radio-active")}});d&&(h={$row:l,rowName:f,accordionName:g},a.trigger("a:accordion:select",{selectedRow:h}),a.trigger("a:accordion:"+g+":select",{selectedRow:h}),a.trigger("a:accordion:"+g+":"+f+":select",{selectedRow:h}))}i.$event.preventDefault()})});m.when("A","jQuery").register("a-expander",function(a,
k){var j,e,i;function h(a,b){var c=a.closest("."+j),g=c.data("a-expander-collapsed-height"),h=a.attr("aria-expanded")==="true";a.toggleClass(e+"-expanded");g?(c.css("height",h?g:"auto"),a.attr("aria-expanded",h?"false":"true"),b()):a.toggle(0,function(){a.attr("aria-expanded",h?"false":"true");b()})}function l(){k(".a-expander-partial-collapse-container").each(function(){var a=k(this),b=a.children("."+e),c=a.data("a-expander-collapsed-height"),g=a.children("."+i);b.height()<=c?g.css({opacity:"0",
display:"none"}):(g.css({opacity:"1",display:"block"}),b.css("padding-bottom",g.height()),b.attr("aria-expanded")!=="true"&&a.css({height:c,"max-height":"none"}))})}var c={inline:{expand:"a-icon-expand",collapse:"a-icon-collapse"},section:{expand:"a-icon-section-expand",collapse:"a-icon-section-collapse"},extender:{expand:"a-icon-extender-expand",collapse:"a-icon-extender-collapse"}};j="a-expander-container";e="a-expander-content";i="a-expander-header";var g={};a.each(c,function(c,b){g[b]={};a.each(c,
function(a,c){g[b][c]=RegExp("\\b"+a+"\\b","g")})});a.declarative("a-expander-toggle","click",function(f){var b=f.$target.closest("."+j),d=b.find("."+j),k=b.data("a-expander-name"),l;l=f.$currentTarget.hasClass(i)?f.$currentTarget:b.find("."+i).not(d.find("."+i));var m=b.find("."+e).not(d.find("."+e));h(m,function(){var h=l.find(".a-icon")[0],e=null,i=l.children(".a-expander-content-fade");if(m.attr("aria-expanded")==="false"){if(h)h.className=h.className.replace(g.inline.collapse,c.inline.expand).replace(g.section.collapse,
c.section.expand).replace(g.extender.collapse,c.extender.expand);f.data&&f.data.expand_prompt&&(e=f.data.expand_prompt);i.show();h="collapse"}else{if(h)h.className=h.className.replace(g.inline.expand,c.inline.collapse).replace(g.section.expand,c.section.collapse).replace(g.extender.expand,c.extender.collapse);f.data&&f.data.collapse_prompt&&(e=f.data.collapse_prompt);i.hide();h="expand"}e&&e!==""&&l.find(".a-expander-prompt").not(d.find(".a-expander-prompt")).html(e);e={$expander:b,expanderName:k};
a.trigger("a:expander:toggle",{expander:e});a.trigger("a:expander:toggle:"+h,{expander:e});k&&(a.trigger("a:expander:"+k+":toggle",{expander:e}),a.trigger("a:expander:"+k+":toggle:"+h,{expander:e}))})});a.on("ready resize orientationchange a:popover:afterShow a:popover:ajaxContentLoaded",l);return{initializeExpanders:l}});m.when("A","ready").register("a-form-controls",function(a){var k=a.$;k(document).delegate(".a-button-input, .a-button-text","focusin",function(){var a=k(this).closest(".a-button");
a.hasClass("a-button-disabled")||a.addClass("a-button-focus")}).delegate(".a-button-input, .a-button-text","focusout",function(){k(this).closest(".a-button").removeClass("a-button-focus")})});m.when("A","jQuery").register("a-buttons",function(a){a.declarative("a-button-group",["click"],function(k){var j=k.$target.closest(".a-button:not(.a-button-disabled)");if(j.length){var e=k.$declarativeParent.find(".a-button"),i=k.data&&k.data.name?k.data.name:!1,k=k.$target.attr("name");e.removeClass("a-button-selected");
j.addClass("a-button-selected");if(k||i)j={$button:j,buttonName:k,buttonGroupName:i},i&&(a.trigger("a:button-group:"+i+":toggle",{selectedButton:j}),k&&a.trigger("a:button-group:"+i+":"+k+":toggle",{selectedButton:j}))}})});m.when("a-switch-framework","jQuery").register("a-switch",function(a,k){var j=a.SWITCH_STATE,e=a.SWITCH_CONTAINER_CLASS,i=a.SWITCH_CLASS;return{getSwitch:function(h){function l(f){var b=g.data(j);if(f===void 0)return b.isOn;if(!b.isEnabled||c(g))return!1;a.setOnState(g,f);return!0}
function c(){return g.data(j).isDragging}h.jquery||(h=k(h));if(h.length===0)return null;h=h.eq(0);h=h.closest("."+e);if(h.length===0)return null;var g=h.children("."+i);a.ensureInitialized(g);return{toggle:function(){return l(!g.data(j).isOn)},isOn:l,enabled:function(c){var b=g.data(j);if(c===void 0)return b.isEnabled;if(b.isEnabled===c)return!1;a.setEnabled(g,c);return!0},isDragging:c,label:function(a){var b=g.data(j).label;if(a===void 0)return b.text();b.text(a)}}}}});m.when("A","jQuery").register("a-switch-framework",
function(a,k){function j(b){b.preventDefault();var c=b.data.$switch.data("a-switch-state"),d=c.control;if(!a.isAnimated(d)){b=t(b)-c.initialX;c.isOn&&(b+=c.rightBoundary);var f=c.leftBoundary,g=c.rightBoundary;b<f?b=f:b>g&&(b=g);if(b!==c.leftOffset)a.animate(d,{left:b},0),c.leftOffset=b,c.isDragging=!0,c.dragCount++}}function e(b){b.preventDefault();if(a.capabilities.touch||b.which===1){var b=b.data.$switch,c=b.data("a-switch-state");l(b,c.isDragging&&c.dragCount>1?c.leftOffset>c.midPoint:!c.isOn);
c.isDragging=!1;q(b)}}function i(b,c,d){d={switchState:b,previousState:d};a.trigger("a:switch:"+c,d);b.name&&a.trigger("a:switch:"+b.name+":"+c,d)}function h(a){if(!a.data("a-switch-state")){var b=a.siblings("input"),d=a.closest(".a-switch-row"),f=a.children("."+c),h=a.siblings("."+g),e=b.attr("name"),i=d.hasClass("a-active"),j=!d.hasClass("a-disabled"),k=a.width()-f.width()-1;a.data("a-switch-state",{input:b,container:d,control:f,label:h,isDragging:!1,rightBoundary:k,leftBoundary:-1,midPoint:k/2,
initialX:null,leftOffset:i?k:-1,isOn:i,isEnabled:j,name:e,dragCount:0})}}function l(b,c){h(b);var d=b.data("a-switch-state"),f=d.isOn,g=c!==d.isOn;d.isOn=c;var e=d.isOn?d.rightBoundary:d.leftBoundary;a.animate(d.control,{left:e},300,"ease-out");d.leftOffset=e;e=d.container;d.isOn?e.addClass("a-active"):e.removeClass("a-active");e=d.input;d.isOn?e.attr("checked","checked"):e.removeAttr("checked");g&&i(d,"flip",f);c?i(d,"on",f):i(d,"off",f)}var c="a-switch-control",g="a-switch-label",f=function(a){a.bind("touchmove.a-switch-component",
{$switch:a},j);a.bind("touchend.a-switch-component",{$switch:a},e);a.bind("touchcancel.a-switch-component",{$switch:a},e);a.bind("mouseup.a-switch-component",{$switch:a},e)},b=function(a){a.unbind("touchmove.a-switch-component");a.unbind("touchend.a-switch-component");a.unbind("touchcancel.a-switch-component");a.unbind("mouseup.a-switch-component")},d=function(a){return(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]).pageX},n=function(a){k("body").bind("mousemove.a-switch-component",
{$switch:a},j);k("body").bind("mouseup.a-switch-component",{$switch:a},e)},m=function(){k("body").unbind("mousemove.a-switch-component",j);k("body").unbind("mouseup.a-switch-component",e)},u=function(a){return a.pageX},o=null,q=null,t=null;a.capabilities.touch?(o=f,q=b,t=d):(o=n,q=m,t=u);a.declarative("a-switch",a.capabilities.touch?"touchstart":"mousedown",function(b){var c=b.$event;c.preventDefault();if(a.capabilities.touch||c.which===1){b=b.$declarativeParent;h(b);var d=b.data("a-switch-state");
d.dragCount=0;d.isDragging=!1;if(d.isEnabled)d.initialX=t(c),o(b)}});a.declarative("a-switch-label","click",function(a){a.$event.preventDefault();a=a.$target.siblings(".a-switch");h(a);var b=a.data("a-switch-state");l(a,!b.isOn)});return{ensureInitialized:h,setOnState:l,setEnabled:function(a,b){h(a);var c=a.data("a-switch-state"),d=c.container;b?d.removeClass("a-disabled"):d.addClass("a-disabled");c.isEnabled=b},SWITCH_STATE:"a-switch-state",SWITCH_CONTAINER_CLASS:"a-switch-row",SWITCH_CLASS:"a-switch"}})})})(function(){var m=
window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUIComponents"):m}());(function(m){m.execute(function(){})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUICompatJS"):m}());
(function(m){m.execute(function(){m.register("a-carousel-utils",function(){function a(a){return typeof a==="string"}function k(a){return a&&a.nodeType!==void 0}function j(e){return!e?null:a(e)||k(e)?e:j(e.content)}function e(i){if(i)a(i)||k(i)?i=!0:i.content=e(i.content);return i}return{isString:a,isElement:k,getElementFromItem:j,clearElementFromItem:e,addElementToDom:function(e,h){h&&(a(h)?e.html(h):k(h)&&e.empty().append(h),h!==!0&&e.removeClass("a-carousel-card-empty"))}}});m.when("A","jQuery").register("a-carousel-measure",
function(a,k){return function(j){function e(h,e,c){var g,f,b,d;e.jquery||(e=k(e));for(a.each(c,function(a){if(a==="top"||a==="left")return f=e.offset(),!1});(g=c.pop())!==void 0;)b=h[g],h[g]=g==="left"||g==="top"?f[g]:g.indexOf("outer")>-1?e[g](!0):e["outer"+g[0].toUpperCase()+g.substr(1)](),h[g]!==b&&(d===void 0&&(d={}),d[g]=b);return d}var i={carousel:{height:0,width:0,outerHeight:0,outerWidth:0},viewport:{height:0,width:0,outerHeight:0,outerWidth:0},items:[],getFirstCardWidth:function(){return this.items[0]===
void 0||!a.isFiniteNumber(this.items[0].width)?160:this.items[0].width}};j.measure=function(h){var k=this.dom.$carousel,c=this.dom.$viewport,g={};h&&(h=h.split(" "));if(!h||a.indexOfArray(h,"carousel")>-1)g.carousel=e(i.carousel,k,"top,left,height,width,outerHeight,outerWidth".split(","));if(!h||a.indexOfArray(h,"viewport")>-1)g.viewport=e(i.viewport,c,["height","width","outerHeight","outerWidth"]);if(!h||a.indexOfArray(h,"items")>-1)i.items=[],g.items={},k.children("li").each(function(a,b){i.items[a]=
{};var c=e(i.items[a],b,"top,left,height,width,outerHeight,outerWidth".split(","));c!==void 0&&(g.items[a]=c)});return g};j.getItemOffset=function(a){var e=i.items;a--;if(e&&e.length){if(a<e.length){for(var c=0,g=e[0].outerWidth,f=0;f<a;f++)c+=e[f]?e[f].outerWidth:g;a>0&&this.getAttr("first_item_flush_left")&&(c+=j.getAttr("currentGutter"));return c}}else return 0};j.getDimensions=function(){return a.copy(i)};j.updateDimensionsCache=function(h){a.extend(i,h)}}});m.when("A","jQuery").register("a-carousel-attributes",
function(a,k){return function(j,e){var i={},h={},l={};a.extend(i,e);j.onChange=function(c,g){for(var f=c.split(" "),b=f.length,d;b--;)d=f[b],h[d]||(h[d]=[]),k.isFunction(g)&&a.indexOfArray(h[d],g)===-1&&h[d].push(g);return this};j.unbind=function(c,g){if(h[c]&&g){var f=a.indexOfArray(h[c],g);f>-1&&h[c].splice(f,1)}return this};j.once=function(a,g){var f=function(){g.apply(null,arguments);j.unbind(a,f)};return j.onChange(a,f)};j.setAttr=function(c,g,f){var b=i[c];i[c]=g;if(!f&&!l[c]&&!a.equals(g,b)){l[c]=
!0;g=a.copy(g);b=a.copy(b);if(h[c])for(var f=a.copy(h[c]),d=0,e=f.length;d<e;d++)f[d](g,b,j,c);g={newValue:g,oldValue:b,carousel:j};a.trigger("a:carousel:change:"+c,g);i.name&&a.trigger("a:carousel:"+i.name+":change:"+c,g);l[c]=!1}return this};j.getAttr=function(c){return a.copy(i[c])}}});m.when("A","jQuery","a-carousel-measure","a-carousel-attributes","a-carousel-strategies").register("a-carousel-base",function(a,k,j,e,i){function h(a){a.onChange(g,function(b,g){var h=a.getAttr(f),e=Math.ceil(h/
b);e===1&&h>1?e=2:e<1&&(e=1);a.setAttr("pageNumber",e);a.setAttr(c,Math.ceil(a.getAttr("set_size")/b));h=a.getAttr("ajax");b>g&&(h&&h.prefetch_next_page?a.strategies.ajax.wantNextPage(a):a.strategies.ajax.wantCurrentPage(a))});a.onChange("set_size",function(f,h){var e=a.getAttr(g),i=a.getAttr(b);a.setAttr(c,Math.ceil(f/e));f<h?(i.splice(f,Number.MAX_VALUE),a.setAttr(b,i)):a.strategies.ajax.wantCurrentPage&&a.strategies.ajax.wantCurrentPage(a)});a.onChange(f,function(b){a.dom.$container.find("input[name='firstVisibleItem']").val(b)});
a.onChange("pageNumber",function(b){b>0&&b<=a.getAttr(c)&&a.setAttr("currentlyWrapping",!1)})}function l(b,c,f){if(arguments.length!==0){b.jquery||(b=k(b));this.dom={$container:b,$viewport:b.hasClass("a-carousel-viewport")?b:b.find(".a-carousel-viewport"),$carousel:b.find(".a-carousel")};var g={totalPages:1E3,pageNumber:1,pageSize:0,firstVisibleItem:1,maintain_state:!0,px:0,disable_panning:!a.capabilities.mobile&&a.capabilities.isIE10Plus,auto_adjust_height:!0,ajax:{}};a.extend(g,f);g.maintain_state=
!!g.maintain_state;if(g.id_list){if(!g.set_size)g.set_size=g.id_list.length}else g.id_list=[];if(!g.set_size){var h=this.dom.$carousel.children("li"),i=parseInt(h.first().attr("aria-setsize"),10);g.set_size=a.isFiniteNumber(i)&&i>0?i:h.length}var l=[];this.dom.$carousel.children("li").each(function(a,b){k(b).attr({"aria-posinset":a+1,"aria-setsize":i});l.push(b.innerHTML)});g.fetchedItems=l;j(this);e(this,g);this.strategies=c;return this}}var c="totalPages",g="pageSize",f="firstVisibleItem",b="fetchedItems";
a.each(i,function(a,b){l.prototype["set"+b.charAt(0).toUpperCase()+b.slice(1)+"Strategy"]=function(a){this.strategies[name]=a;typeof a.init==="function"&&a.init(this)}});i=l.prototype;i.gotoNextPage=function(a){this.getAttr("transitionPaused")||this.strategies.transition.gotoNextPage(this,a)};i.gotoPrevPage=function(a){this.getAttr("transitionPaused")||this.strategies.transition.gotoPrevPage(this,a)};i.gotoPage=function(a,b){this.getAttr("transitionPaused")||this.strategies.transition.gotoPage(this,
a,b)};i.gotoIndex=function(a,b){this.getAttr("transitionPaused")||this.strategies.transition.gotoIndex(this,a,b)};i.gotoPixel=function(a,b){this.getAttr("transitionPaused")||this.strategies.transition.gotoPixel(this,a,b)};i.resize=function(){this.strategies.display.resize(this,this.measure("carousel viewport"))};i.pause=function(){this.setAttr("transitionPaused",!0)};i.resume=function(){this.setAttr("transitionPaused",!1)};i.triggerEvent=function(b,c){c=c||{};c.carousel=this;a.trigger("a:carousel:"+
b,c);var f=this.getAttr("name");f&&a.trigger("a:carousel:"+f+":"+b,c)};i.getStaticLoader=function(){return""};i.getEmptyCard=function(a,b){return['<li class="a-carousel-card a-carousel-card-empty" role="listitem" aria-setsize="',b,'" aria-posinset="',a,'">',this.getStaticLoader(),"</li>"].join("")};i.init=function(){var b=this,e=b.strategies,i=b.dom.$viewport[0];if(i&&!i.id)i.id="anonCarousel"+b.__id;for(var k=b.dom.$carousel[0],j=k.childNodes,i=j.length;i--;)j[i].tagName&&j[i].tagName.toLowerCase()===
"li"||k.removeChild(j[i]);if(b.getAttr("set_size")<1)return e.ajax.init(b),!1;b.measure();a.each(b.strategies,function(a){a.init(b)});e=b.getAttr(g);i=b.getAttr("set_size");e=Math.ceil(i/e);b.setAttr(c,e);h(b);b.triggerEvent("init");a.each(b.strategies,function(a){a.afterInit&&a.afterInit(b)});b.triggerEvent("afterInit");e=b.getAttr(f);if(e===1&&b.getAttr("maintain_state")&&(e=parseInt(b.dom.$container.find("input[name='firstVisibleItem']").val(),10),!a.isFiniteNumber(e)||!(e>0&&e<=i)))e=1;if(e>1){k=
700;j=Math.ceil(e/b.getAttr(g));for(i=2;i<j;i++)k+=700/i;b.gotoIndex(e,{animationDuration:k,easingFunction:"ease"})}return!0};return l});m.when("A","jQuery","a-carousel-base").register("a-carousel-mobile",function(a,k,j){function e(a){var c=a.getAttr("loaderHeight");c||((c=a.getAttr("maxHeight"))?(c*=0.9,c=Math.min(c,90),c=Math.max(c,120)):c=90,a.setAttr("loaderHeight",c));return c}function i(i,c,g){j.call(this,i,c,g);if(arguments.length!==0)return this.getAttr("circular")===h&&this.setAttr("circular",
!1),this.getAttr("show_partial_next")===h&&this.setAttr("show_partial_next",!0),this.getAttr("hide_off_screen")===h&&this.setAttr("hide_off_screen",!1),this.getAttr("springiness")===h&&this.setAttr("springiness",0.8),this.getAttr("touch_easing")===h&&this.setAttr("touch_easing","cubic-bezier(0.215, 0.610, 0.355, 1.000)"),this.init=function(){var c=this;if(j.prototype.init.call(c)){c.dom.$carousel.children("li").children(".a-loading-static").css("height",e(c)+"px");var b=c.dom.$viewport;(a.capabilities.touch||
a.capabilities.pointerPrefix)&&c.getAttr("transitionStrategy")!=="none"&&m.when("a-touch").execute(function(){b.addClass("a-gesture a-gesture-horizontal").bind("swipe-horizontal",function(a,b){if(!c.getAttr("transitionPaused")&&c.strategies.transition.onSwipe)c.strategies.transition.onSwipe(c,b)});c.getAttr("disable_panning")||b.bind("pan-horizontal",function(a,b){if(!c.getAttr("transitionPaused")&&c.strategies.transition.onPan)c.strategies.transition.onPan(c,b)})});if((a.capabilities.isIE10||a.capabilities.isIE11Plus)&&
c.getAttr("transitionStrategy")!=="none"){var d=function(a){a.stopPropagation();a.preventDefault();document.body.removeEventListener("click",d,!0)};b.bind(a.action.start,function(){b.bind("swipe-horizontal.a-ssiec pan-horizontal.a-ssiec",function(){b.unbind(".a-ssiec");b.bind(a.action.end+".a-ssiec",function(){b.unbind(".a-ssiec");document.body&&document.body.addEventListener("click",d,!0)})})})}return!0}else return!1},this}var h;i.prototype=new j;i.prototype.constructor=i;i.prototype.getStaticLoader=
function(){return'<div class="a-loading-static" style="height:'+e(this)+'px"><div class="a-loading-static-inner"></div></div>'};return i});m.when("A","jQuery","a-carousel-base").register("a-carousel-desktop",function(a,k,j){function e(a){var g=a.getAttr("set_size")<=a.getAttr("pageSize"),f=a.getAttr("transitionStrategy")==="none";a.getAttr("totalPages")===1&&a.getAttr(l)>1&&a.gotoPage(1,{startover:!0,animationDuration:0});a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-pagination").css("visibility",
g||f?"hidden":"visible")}function i(c,g,f){j.call(this,c,g,f);if(arguments.length!==0){var b=this;b.getAttr("circular")===h&&this.setAttr("circular",!0);b.getAttr("hide_off_screen")===h&&this.setAttr("hide_off_screen",!0);b.onChange("totalPages",function(a){b.dom.$container.find(".a-carousel-page-max").html(a);a<b.getAttr(l)&&b.gotoPage(a)});b.onChange(l,function(a){var c=b.dom.$container,f=c.find(".a-carousel-restart-container");a>1?f.show():f.hide();c.find(".a-carousel-page-current").html(a)});
b.init=function(){var b=this;if(j.prototype.init.call(b)){e(this);b.onChange("pageSize set_size",function(){e(b)});b.getAttr(l)<2&&b.dom.$container.find(".a-carousel-restart-container").hide();var c=b.dom.$container.find(".a-carousel-button");if(c.length){var f=c.eq(0).position().top+"px";c.css("top",f)}var g=!1;b.dom.$container.delegate(".a-carousel-goto-nextpage","click dblclick",function(c){g||(g=!0,c.preventDefault(),b.gotoNextPage(),a.delay(function(){g=!1},5))}).delegate(".a-carousel-goto-prevpage",
"click dblclick",function(c){g||(g=!0,c.preventDefault(),b.gotoPrevPage(),a.delay(function(){g=!1},5))}).delegate(".a-carousel-goto-nextpage","keydown",function(c){if(c.which===a.constants.keycodes.ENTER||c.which===a.constants.keycodes.SPACE)c.preventDefault(),b.gotoNextPage(),b.dom.$viewport.focus()}).delegate(".a-carousel-goto-prevpage","keydown",function(c){if(c.which===a.constants.keycodes.ENTER||c.which===a.constants.keycodes.SPACE)c.preventDefault(),b.gotoPrevPage(),b.dom.$viewport.focus()}).delegate(".a-carousel-restart",
"click",function(a){a.preventDefault();a={};b.getAttr(l)>5?a.animationDuration=1250:a.animationSpeed=b.getDimensions().viewport.width*5;b.gotoPage(1,a)});b.dom.$container.find(".a-carousel-page-max").html(this.getAttr("totalPages"));var h=b.dom.$viewport;(a.capabilities.touch||a.capabilities.pointerPrefix)&&b.getAttr("transitionStrategy")!=="none"&&m.when("a-touch").execute(function(){h.addClass("a-gesture a-gesture-horizontal").bind("swipe-horizontal",function(a,c){if(!b.getAttr("transitionPaused")&&
b.strategies.transition.onSwipe)b.strategies.transition.onSwipe(b,c)});b.getAttr("disable_panning")||h.bind("pan-horizontal",function(a,c){if(!b.getAttr("transitionPaused")&&b.strategies.transition.onPan)b.strategies.transition.onPan(b,c)})});if((a.capabilities.isIE10||a.capabilities.isIE11Plus)&&b.getAttr("transitionStrategy")!=="none"){var i=function(a){a.stopPropagation();a.preventDefault();document.body.removeEventListener("click",i,!0)};h.bind(a.action.start,function(){h.bind("swipe-horizontal.a-ssiec pan-horizontal.a-ssiec",
function(){h.unbind(".a-ssiec");h.bind(a.action.end+".a-ssiec",function(){h.unbind(".a-ssiec");document.body&&document.body.addEventListener("click",i,!0)})})})}return!0}else return!1};return b}}var h,l="pageNumber";i.prototype=new j;return i.prototype.constructor=i});m.when("A","a-carousel-desktop","a-carousel-mobile").register("a-carousel-classes",function(a,k,j){return{desktop:k,mobile:j,"default":a.capabilities.mobile||a.capabilities.tablet?"mobile":"desktop"}});m.when("A","jQuery","p-detect").register("a-carousel-stretchygoodness",
function(a,k){function j(b,d,f,h){b.getAttr(c)&&(d-=f/5);var e=b.getAttr(g);b.getAttr("set_size");for(var b=0,i=!0;d>0;)b++,d-=h&&i?f:f+e,i=!1;d<0&&b--;return a.isFiniteNumber(b)?b:1}function e(b,d,f,g,h,e,i){b.getAttr(t)==="stretch"&&g>e&&(g=e);d-=f*g;b.getAttr(c)?(b=d-h*(g+1),i&&(b+=h),i=b/f,d-=f*(i>0.5?0.5:i)):i&&(d-=h);f=Math.ceil(d/(g+1));if(!a.isFiniteNumber(f)||f<h)f=h;return f}function i(f){if(f.getAttr("auto_adjust_height"))if(f.getAttr(o))f.once(o,function(){i(f)});else{var g=f.getAttr(r),
h=f.getDimensions();if(!g||!a.isFiniteNumber(g))g=1;var e=g,k=f.getAttr(b),j=k*(f.getAttr(d)-1),k=j+k-1,h=h.items,l=h.length,q;for(f.getAttr(c)&&k++;j<=k&&j<l;j++)(q=h[j])&&q.outerHeight>e&&(e=h[j].outerHeight||h[j].height);e>g&&(f.updateDimensionsCache({viewport:{height:e,outerHeight:e}}),f.setAttr(r,e),g===1?f.dom.$viewport.height(e):a.animate(f.dom.$viewport,{height:e},f.getAttr(m),"linear"))}else f.dom.$viewport.css("height","")}function h(a){a.onChange(d,function(){a.getAttr(q)&&a.dom.$carousel.children("li").css("visibility",
"")});a.onChange(b,function(b,c){b>c&&i(a)});a.onChange("loading",function(b){b||i(a)});a.onChange(u,function(){i(a)});a.onChange(o,function(d){if(!d&&a.getAttr(q)){var f=a.getAttr(u)-1,g=f+a.getAttr(b)-1;a.getAttr(c)&&g++;a.dom.$carousel.children("li").each(function(a,b){var c=a>=f&&a<=g;k(b).css("visibility",c?"":"hidden").attr("aria-hidden",c?"false":"true")})}});a.onChange(t+" "+g,function(){l(a)})}function l(a){var c=a.getDimensions(),d=c.viewport.width,c=c.getFirstCardWidth(),h=a.getAttr(g),
i=a.getAttr("set_size"),k=a.getAttr(p),l=j(a,d,c,k),m=e(a,d,c,l,h,i,k);a.setAttr(f,m);a.setAttr(b,l);var n=a.dom.$carousel,o=n.children("li"),h=o.length,r=a.getAttr(u)-1,G=r+l-1,B=a.getAttr(q),L=m+"px",M=c+"px",H;o.each(function(a,b){H=!B||a>=r&&a<=G;b.style.marginLeft=k&&a===0?0:L;b.style.visibility=H?"":"hidden";b.style.width=M;b.setAttribute("aria-hidden",H?"false":"true")});var F,E;a.getAttr(p)?(m=o.first().outerWidth(!0),o.length>1&&(F=o.eq(1).outerWidth(!0)),E=h-1+F+m):(m=F=o.first().outerWidth(!0),
E=h*F);if(l>=i){E=d;var I=a.getAttr(t);n.toggleClass("a-text-right",I==="right");n.toggleClass("a-text-center",I==="center");I==="center"&&o.first().css("margin-left",0)}else n.removeClass("a-text-right a-text-center");E=l>=i?d:E;n.css("width",E+"px");d={carousel:{width:E,outerWidth:n.outerWidth()},items:[]};for(i=0;i<h;i++)d.items.push({width:c,outerWidth:i===0?m:F});a.updateDimensionsCache(d);a.gotoIndex(a.getAttr(u),{animationDuration:0});a.triggerEvent("repaint")}var c="show_partial_next",g="minimum_gutter_width",
f="currentGutter",b="pageSize",d="pageNumber",m="height_animation_speed",r="max_height",u="firstVisibleItem",o="animating",q="hide_off_screen",t="single_page_align",p="first_item_flush_left";return{repaint:l,init:function(d){var e=d.getAttr(g);a.isFiniteNumber(e)||(e=15,d.setAttr(g,e));d.setAttr(f,e);e=d.getAttr(m);a.isFiniteNumber(e)||d.setAttr(m,200);d.setAttr(p,!!d.getAttr(p));d.setAttr(c,!!d.getAttr(c));l(d);d.getAttr("transitionStrategy")!=="none"&&i(d);e=d.getDimensions();d.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",
Math.max(e.viewport.height,e.items[0]?e.items[0].height:0)+"px");e=d.getAttr(u);e>1&&(d.setAttr(u,e),e=Math.ceil(e/d.getAttr(b)),d.gotoPage(e));h(d)},resize:function(a,b){b.viewport&&b.viewport.width!==void 0&&l(a)}}});m.when("A","jQuery","p-detect","a-carousel-utils").register("a-carousel-display-swap",function(a,k,j,e){function i(b){if(b.getAttr("auto_adjust_height")){var c=b.getAttr(r);if(!c||!a.isFiniteNumber(c))c=1;var d=c;b.dom.$carousel.children("li").not(".a-carousel-card-empty").each(function(a,
b){var c=k(b).outerHeight();d=Math.max(c,d)});d>c&&(b.setAttr(r,d),j.capabilities.transition?c===1?b.dom.$viewport.height(d):a.animate(b.dom.$viewport,{height:d},b.getAttr(m),"linear"):b.dom.$viewport.height(d),b.updateDimensionsCache({viewport:{height:d,outerHeight:d}}))}else b.dom.$viewport.css("height","")}function h(a,b){for(var c=a.dom.$carousel[0],d=a.dom.$carousel.children("li").get(),f;d.length>b;)f=d.pop(),c.removeChild(f)}function l(j){j.onChange(u,function(){i(j)});j.onChange(t,function(a){a||
i(j)});j.onChange(b,function(a,b){if(a>b){b===0&&h(j);var c=j.getAttr("set_size"),d=j.getDimensions().getFirstCardWidth(),g=j.getAttr(f),l=j.getAttr(o),m=j.getAttr(u)-1,n=j.dom.$carousel.children("li"),q=document.createDocumentFragment(),r;if(k.isArray(l)){for(var t=n.length;t<a;t++)r=t+m,n=k(['<li class="a-carousel-card a-carousel-card-empty" role="listitem" aria-setsize="',c,'" aria-posinset="',r+1,'" style="width:',d,"px; margin-left:",g,'px;">',j.getStaticLoader()].join("")),l[r]&&e.addElementToDom(n,
e.getElementFromItem(l[r])),r>=c&&n.removeClass("a-carousel-card-empty"),q.appendChild(n[0]);j.dom.$carousel.append(q)}i(j)}else a<b&&h(j)});j.onChange("set_size",function(b,f){var g=j.getAttr(d),h=j.getAttr(q),e=j.dom.$carousel.children("li");e.attr("aria-setsize",b);g===h&&b>f&&(e.length&&j.dom.$carousel.children("li").each(function(b,c){if(!a.trim(c.innerHTML))c.className+=" a-carousel-card-empty",c.innerHTML=j.getStaticLoader()}),f===0&&c(j))});j.onChange(p+" "+g,function(){c(j)})}function c(c){var d=
c.getDimensions(),e=d.viewport.width,i=d.getFirstCardWidth(),j=c.getAttr(g),d=c.getAttr("set_size"),k;k=c.getAttr(g);c.getAttr("set_size");k=Math.max(Math.floor(e/(i+k)),1);k=a.isFiniteNumber(k)?k:1;var l,m=k;c.getAttr(p)==="stretch"&&m>d&&(m=d);m=Math.ceil((e-i*m)/(m+1));a.isFiniteNumber(m)||(m=j);l=m;c.setAttr(f,l);c.setAttr(b,k);var m=c.dom.$carousel,n=m.children("li"),j=n.length;i+=l;var o=j*i;h(c,Math.min(k,d));n.css("margin-left",l+"px");k>=d?(o=e,e=c.getAttr(p),m.toggleClass("a-text-right",
e==="right"),m.toggleClass("a-text-center",e==="center"),e==="center"&&n.first().css("margin-left",0)):m.removeClass("a-text-right a-text-center");for(e={carousel:{width:o,outerWidth:m.outerWidth()},items:[]};j--;)e.items.push({outerWidth:i});c.updateDimensionsCache(e);c.triggerEvent("repaint")}var g="minimum_gutter_width",f="currentGutter",b="pageSize",d="pageNumber",m="height_animation_speed",r="maxHeight",u="firstVisibleItem",o="fetchedItems",q="totalPages",t="loading",p="single_page_align";return{repaint:c,
init:function(d){var e=d.getAttr(g);e||(e=15,d.setAttr(g,e));d.setAttr(f,e);e=d.getAttr(m);a.isFiniteNumber(e)||d.setAttr(m,200);l(d);c(d);e=d.getDimensions();d.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(e.viewport.height,e.items[0]?e.items[0].height:0)+"px");e=d.getAttr(u);e>1&&(d.setAttr(u,e),e=Math.ceil(e/d.getAttr(b)),d.gotoPage(e))},resize:function(a,b){b.viewport&&b.viewport.width!==void 0&&c(a)}}});m.when("A","jQuery").register("a-carousel-display-single",
function(a){function k(h){if(h.getAttr("auto_adjust_height"))if(h.getAttr(e))h.once(e,function(){k(h)});else h.dom.$viewport.css("height","auto"),a.delay(function(){h.dom.$viewport.height(h.dom.$viewport.height())},0);else h.dom.$viewport.css("height","")}function j(a){a.getAttr(i)||(a.dom.$viewport.delegate("img","load",function(){k(a)}),a.onChange("loading",function(e){e||k(a)}))}var e="animating",i="fixed_height";return{repaint:function(a){var e=a.getDimensions(),c=e.viewport.width,g=a.getAttr("show_partial_next"),
f=a.getAttr("minimum_gutter_width"),b=a.getAttr("set_size");c-=f*2;g&&(c-=f+e.viewport.width/3);a.dom.$carousel.children("li").css({width:c+"px",margin:"0 "+f+"px"});e=c+f*2;g=e*b;a.dom.$carousel.width(g);for(g={carousel:{width:g},items:[]};b--;)g.items[b]={width:c,outerWidth:e};a.updateDimensionsCache(g);a.gotoIndex(a.getAttr("firstVisibleItem"),{animationDuration:0});a.triggerEvent("repaint")},init:function(e){var l=e.getAttr("minimum_gutter_width"),c=e.getAttr("height_animation_speed");e.setAttr("minimum_gutter_width",
a.isFiniteNumber(l)?l:14);e.setAttr("show_partial_next",!!e.getAttr("show_partial_next"));e.setAttr("height_animation_speed",a.isFiniteNumber(c)?c:200);e.setAttr("pageSize",1);e.dom.$carousel.children(":not(li:first-child)").remove();e.setAttr("pageSize",1);l=e.getAttr(i);a.isFiniteNumber(l)?e.dom.$viewport.height(l):e.setAttr(i,!1);e.dom.$carousel.children("li").css("visibility","visible");j(e);this.repaint(e);k(e)},resize:function(a,e){e.viewport&&e.viewport.width!==void 0&&(this.repaint(a),a.getAttr(i)||
k(a))}}});m.when("a-carousel-stretchygoodness","a-carousel-display-swap","a-carousel-display-single").register("a-carousel-strategies-display",function(a,k,j){return{swap:k,single:j,stretchyGoodness:a,"default":"stretchyGoodness"}});m.when("A","jQuery","a-carousel-utils").register("a-carousel-transition-swap",function(a,k,j){function e(c,d){c.getAttr(h);c.getAttr(g);var f=c.getAttr(l),e=c.getAttr("delay_time");c.setAttr(b,!0);var i=c.dom.$carousel.children("li");i.each(function(g,h){var l=k(h),m=
d[g+f-1];l.hasClass(u)&&m&&a.delay(function(){j.addElementToDom(l,j.getElementFromItem(m));g===i.length-1&&c.setAttr(b,!1)},0+e)})}function i(b,e,i){var i=i||{},k=b.getAttr(h);if(e!==k){var s=b.getAttr(m),w=b.getAttr(r),v=b.getAttr("circular"),C=b.getAttr(g),x=i.delayTime||b.getAttr("delay_time"),y=(typeof i.direction==="number"?i.direction?i.direction<0?-1:1:isNaN(i.direction)?NaN:0:NaN)||NaN;!v&&e<1?e=1:!v&&e>w?e=w:v&&e<1?e=w:v&&e>w&&(e=1);y||(y=k<e?1:-1);i.startover&&(y=x=1);b.setAttr(h,e);var z=
C*(e-1),D=y===1?0:C-1;b.setAttr(d,!0);var A=a.interval(function(){var a=z+D;if(A!==b.getAttr(c))clearInterval(A);else if(y===-1&&D<0||y===1&&D>=C)b.setAttr(c,void 0),b.setAttr(l,z+1),b.setAttr(d,!1);else{var e=b.dom.$carousel.children("li").eq(D);e.attr("aria-posinset",a+1);var g=b.getAttr(f)[a];g?j.addElementToDom(e,j.getElementFromItem(g)):a<s?e.html(b.getStaticLoader()).addClass(u):e.empty().removeClass(u);D+=y}},x);b.setAttr(c,A)}}var h="pageNumber",l="firstVisibleItem",c="responsiveTimerId",
g="pageSize",f="fetchedItems",b="loading",d="animating",m="set_size",r="totalPages",u="a-carousel-card-empty";return{init:function(b){var d=b.getAttr("delay_time");a.isFiniteNumber(d)||b.setAttr("delay_time",50);b.onChange(c,function(a,b){b!==a&&clearInterval(b)});b.onChange(f,function(a){e(b,a)})},gotoIndex:function(a,b,c){var c=c||{},d=a.getAttr(g),b=Math.ceil(b/d);i(a,b,c)},gotoNextPage:function(a,b){var b=b||{},c=a.getAttr(h);b.direction=-1;i(a,++c,b)},gotoPrevPage:function(a,b){var b=b||{},c=
a.getAttr(h);b.direction=1;i(a,--c,b)},gotoPage:i}});m.when("A","jQuery","a-carousel-utils").register("a-carousel-transition-slide",function(a,k,j){function e(a){var d=a.dom.$carousel.children("li").length,e=d+1,h=a.getAttr(f),i=h-d;if(i>0){for(var i=e+i-1,k=[];e<=i;e++)k.push(a.getEmptyCard(e,h));a.dom.$carousel.append(k.join(""));a.setAttr(g,!0);for(var i=a.getAttr(c),k=a.dom.$carousel.children("li"),l,e=d;e<h;e++)if(l=i[e]){var m=j.getElementFromItem(l),d=k.eq(e);j.addElementToDom(d,m);i[e]=j.clearElementFromItem(l)}a.strategies.display.repaint&&
a.strategies.display.repaint(a);a.setAttr(c,i,!0);a.setAttr(g,!1)}}function i(a,d,f){if(a.getAttr(l))a.once(l,function(){i(a,d,f)});else{var e=a.getDimensions(),h=e.items;if(!f||d.length>=f.length){a.setAttr(g,!0);var k=a.dom.$carousel.children("li");e.getFirstCardWidth();for(var e=d.length,m,t;e--;)if(t=d[e],t!==f[e]&&t){var p=j.getElementFromItem(t);m=k.eq(e);m.length&&(j.addElementToDom(m,p),h[e]={width:m.outerWidth(),outerWidth:m.outerWidth(!0),height:m.outerHeight(),outerHeight:m.outerHeight(!0)},
d[e]=j.clearElementFromItem(t))}}a.setAttr(c,d);a.updateDimensionsCache({items:h});a.setAttr(g,!1)}}var h=a.capabilities.touch?2E3:3E3,l="animating",c="fetchedItems",g="loading",f="set_size";return{wrapToFirst:function(a){var c=a.getAttr("pageSize"),e=a.getDimensions().getFirstCardWidth(),f=this;a.gotoPixel(c*e*-1,{animationDuration:0,callback:function(){a.setAttr("currentlyWrapping",!1);f.gotoPage(a,1)}})},wrapToLast:function(a){a.getAttr("pageSize");var c=a.getAttr("totalPages"),e=this,f=a.getDimensions().carousel.width;
a.gotoPixel(f,{animationDuration:0,callback:function(){a.setAttr("currentlyWrapping",!1);e.gotoPage(a,c)}})},gotoPage:function(a,c,e){e=e||{};(e.animationDuration===void 0||e.animationDuration>0)&&!e.silent&&a.setAttr(l,!0);var f=a.getAttr("totalPages");c>0&&c<=f&&a.setAttr("pageNumber",c);var g=a.getAttr("circular");if(!g&&c<1)c=1,e.animationDuration=Math.pow(a.getAttr("animation_speed")*a.getAttr("springiness"));else if(!g&&c>f)c=f,e.animationDuration=Math.pow(a.getAttr("animation_speed"),a.getAttr("springiness"));
this.gotoIndex(a,a.getAttr("pageSize")*(c-1)+1,e)},gotoIndex:function(b,c,e){e=e||{};(e.animationDuration===void 0||e.animationDuration>0)&&!e.silent&&b.setAttr(l,!0);var g=b.getAttr("circular")&&!b.getAttr("currentlyWrapping"),h=b.getDimensions(),i=e.callback,j=this,k=!1,h=h.viewport.width,m=Math.ceil(c/b.getAttr("pageSize")),s;m!==b.getAttr("pageNumber")&&m>0&&m<=b.getAttr("totalPages")&&b.setAttr("pageNumber",m);b.setAttr("firstVisibleItem",c);c<1?g&&(k=h*-1,s=function(){i&&i();j.wrapToLast(b)}):
c>b.getAttr(f)?g&&(k=b.getAttr("px")+h,s=function(){i&&i();j.wrapToFirst(b)}):k=b.getItemOffset(c);s?(b.setAttr("currentlyWrapping",!0),e.callback=s,e.easingFunction=e.easingFunction||b.getAttr("wrap_easing"),e.animationSpeed=(a.isFiniteNumber(e.animationSpeed)?e.animationSpeed:b.getAttr("animation_speed"))*1.3):e.callback=i;k!==!1&&this.gotoPixel(b,k,e)},gotoPixel:function(b,c,e){if(c!==b.getAttr("px")){var e=e||{},f=e.easingFunction||"ease-out",g=e.callback;b.getDimensions();var h,i;e.animationDuration!==
void 0?h=e.animationDuration:(h=a.isFiniteNumber(e.animationSpeed)?e.animationSpeed:b.getAttr("animation_speed"),i=Math.abs(c-b.getAttr("px")),h=h===0?0:Math.floor(i/h*1E3));h>0&&!e.silent&&b.setAttr(l,!0);a.isFiniteNumber(c)?(i=h>0?function(){g&&g();b.setAttr(l,a.isAnimated(b.dom.$carousel),e.silent)}:g,b.setAttr("px",c),a.animate(b.dom.$carousel,{left:c*-1,top:0},h,f,i)):m.error("Target pixel is not a finite number","a-carousel-transition-slide","gotoPixel")}},gotoNextPage:function(a,c){var e=a.getAttr("pageNumber");
this.gotoPage(a,++e,c)},gotoPrevPage:function(a,c){var e=a.getAttr("pageNumber");this.gotoPage(a,--e,c)},onSwipe:function(b,c){if(!b.getAttr("currentlyWrapping")){var e=b.getAttr("firstVisibleItem"),f=b.getAttr("pageSize"),g=b.getAttr("pageNumber"),h=c.velocityX<0,i=e;h&&g<b.getAttr("totalPages")?i=e+f:!h&&g>1&&(i=e-f);f=b.getAttr("px");g=b.getItemOffset(i);f=Math.abs((h?f-g:f+g)*1E3/c.velocityX);f=Math.max(f,300);f=Math.min(f,a.viewport().width*1.2);f={animationDuration:f,easingFunction:b.getAttr("touch_easing")};
i===e&&!b.getAttr("circular")?(f.animationSpeed=a.viewport().width*0.95,delete f.animationDuration,b.gotoIndex(i,f)):h?b.gotoNextPage(f):b.gotoPrevPage(f)}},onPan:function(b,c){if(!b.getAttr("currentlyWrapping")){b.setAttr(l,!0);var e=b.getAttr("px")-c.deltaX,f=b.getAttr("circular"),g=b.getAttr("pageNumber"),h=b.getAttr("totalPages");if(c.ended){var e={easingFunction:b.getAttr("touch_easing"),animationSpeed:a.viewport().width*0.95,silent:!0},i=b.getDimensions(),g=b.getAttr("pageNumber"),j=c.touchDeltaX,
i=Math.abs(j)<i.viewport.width*0.4;!f&&(j<0&&h===g||j>0&&g===1)||i?b.gotoPage(g,e):j<0?b.gotoNextPage(e):b.gotoPrevPage(e)}else{if(!f&&(j=b.getAttr("springiness"),f=b.getItemOffset(b.getAttr("firstVisibleItem")),e<0&&c.touchDeltaX>0||g===h&&c.touchDeltaX<0))g=Math.pow(Math.abs(c.touchDeltaX),j),e=e<=0?g*-1:f+g;b.gotoPixel(e,{easingFunction:b.getAttr("touch_easing"),animationDuration:0,silent:!0})}}},init:function(b){var d=b.getAttr("animation_speed");a.isFiniteNumber(d)||b.setAttr("animation_speed",
h);b.getAttr("wrap_easing")===void 0&&b.setAttr("wrap_easing","linear");e(b);b.onChange(c,function(a,c){i(b,a,c)});b.onChange(f,function(a,c){a>c&&e(b)})}}});m.when("A","jQuery","a-carousel-transition-slide","a-carousel-transition-swap").register("a-carousel-strategies-transition",function(a,k,j,e){return{slideHorizontal:j,swap:e,none:{gotoIndex:a.constants.NOOP,gotoNextpage:a.constants.NOOP,gotoPrevPage:a.constants.NOOP,gotoPage:a.constants.NOOP,init:function(a){a.setAttr("hide_off_screen",!1);a.setAttr("auto_adjust_height",
!1);a.dom.$carousel.children("li").css("visibility","").attr("aria-hidden","false")}},"default":"slideHorizontal"}});m.when("A").register("a-carousel-ajax-standard",function(a){function k(g,f,b){b._=a.now();g.triggerEvent("beforeAjax",{url:f,params:b});a.get(f,{success:function(a){b.needSetSize&&((!a||!a.length)&&m.error("Carousel requires a set_size and none was returned by the fallback AJAX request","a-carousel-ajax-standard","sendRequest"),g.setAttr(l,a[0].setSize?a[0].setSize:a.length));for(var h=
g.getAttr("fetchedItems"),j;(j=a.pop())!==e;)h[b.offset+a.length]=j;b.needSetSize&&g.init();g.setAttr("fetchedItems",h);g.setAttr(c,!1);b.needSetSize&&g.getAttr(i)>=h.length&&g.strategies.ajax.wantCurrentPage(g);g.triggerEvent("ajaxSuccess",{url:f,params:b})},params:b})}function j(a){var c=a.getAttr(h);c&&(clearTimeout(c),a.setAttr(h,null))}var e,i="pageSize",h="requestTimer",l="set_size",c="ajaxLock";return{getItems:function(c,e,b){var d=c.getAttr("ajax");c.setAttr(h,a.delay(k,d.fetch_delay,c,e,
b))},wantNextPage:function(a){j(a);if(a.getAttr("ajax").prefetch_next_page){var c=a.getAttr(i),b=c*2;a.getAttr("show_partial_next")&&b++;this.want(a,(a.getAttr("pageNumber")-1)*c,b)}else this.wantCurrentPage(a)},wantPrevPage:function(a){j(a);if(a.getAttr("ajax").prefetch_next_page){var c=a.getAttr(i),b=c*2;a.getAttr("show_partial_next")&&b++;this.want(a,(a.getAttr("pageNumber")-2)*c,b)}else this.wantCurrentPage(a)},wantCurrentPage:function(a){j(a);var c=a.getAttr(i),b=a.getAttr("show_partial_next")?
c+1:c;this.want(a,(a.getAttr("pageNumber")-1)*c,b)},want:function(a,e,b){if(!a.getAttr(c)){j(a);var d=a.getAttr("ajax"),h=a.getAttr(l);if(d.url){var i=a.getAttr("fetchedItems"),k=d.id_list;k||(k=[]);var m=e>-1?e:0,e=e+b-1,q=d.params||{},t=[],p=[];if(h===0)k.length&&(h=k),q.needSetSize="true",a.setAttr(c,!0);for(b===-1&&h&&(e=h);m<=e&&m<h;)i[m]||((b=k[m])&&t.push(b),p.push(m),i[m]=!1),m++;a.setAttr("fetchedItems",i,{silent:!0});q.count=p.length;q.offset=p[0]||0;t.length>0&&(q[d.id_param_name]=t.join(","));
(p.length>0||q.needSetSize)&&this.getItems(a,d.url,q)}}},init:function(c){var f=c.getAttr("ajax");if(!a.isFiniteNumber(f.fetch_delay))f.fetch_delay=500;f.id_param_name=f.id_param_name||"ids";f.prefetch_next_page=f.prefetch_next_page===e?!0:!!f.prefetch_next_page;c.setAttr("ajax",f);c.getAttr(l)||this.want(c,0,-1)},afterInit:function(a){a.strategies.ajax.wantCurrentPage(a);a.onChange("pageNumber",function(c,b){c>b?a.strategies.ajax.wantNextPage(a):a.strategies.ajax.wantPrevPage(a)})}}});m.when("A",
"a-carousel-ajax-standard").register("a-carousel-strategies-ajax",function(a,k){return{standard:k,none:{wantNextPage:a.constants.NOOP,wantPrevPage:a.constants.NOOP,wantCurrentPage:a.constants.NOOP,want:a.constants.NOOP,init:a.constants.NOOP},"default":"standard"}});m.when("a-carousel-strategies-display","a-carousel-strategies-transition","a-carousel-strategies-ajax").register("a-carousel-strategies",function(a,k,j){return{display:a,transition:k,ajax:j}});m.when("A","jQuery","a-carousel-classes","a-carousel-strategies").register("a-carousel-framework",
function(a,k,j,e){function i(a,b){m.error(b.message,"a-carousel-framework",a)}function h(b,c,d,e){var f;try{f=new c(b,d,e),f.__id=++w,b.data("a-carousel",f),b.removeClass("a-carousel-static"),a.onScreen(b)?a.delay(l,10,f):o.push(f),e.name&&(t[e.name]=f)}catch(g){i("createCarousel",g)}}function l(b){for(var c=o.length;c--;)if(o[c]===b){o.splice(c,1);break}try{b.init();u.push(b);b.__initialized=!0;b.dom.$container.addClass("a-carousel-initialized");var d=b.getAttr("name");d&&s[d]&&a.each(s[d],function(a){a(b)})}catch(e){i("initializeCarousel",
e)}}function c(a,b){var c=b[a+"Strategy"];c||(c=e[a]["default"]);return e[a][c]}function g(a){for(var b=a.length,c;b--;)if(c=a[b],!c.dom.$container.length||!p.find(c.dom.$container).length)(c=c.getAttr("name"))&&delete t[c],a.splice(b,1)}function f(){g(o);g(u)}function b(a){var b=a.data("a-carousel-options")||{};b.displayStrategy=a.data("a-display-strategy");b.transitionStrategy=a.data("a-transition-strategy");b.ajaxStrategy=a.data("a-ajax-strategy");b.carouselClass=a.data("a-class");var a=c("display",
b),d=c("transition",b),e=c("ajax",b),f=b.carouselClass;f||(f=j["default"]);f=j[f];if(!(f===r||a===r||d===r||e===r))return{carouselClass:f,strategies:{display:a,transition:d,ajax:e},opts:b}}function d(){k(".a-carousel-static").each(function(){var a=k(this),c=b(a);c&&h(a,c.carouselClass,c.strategies,c.opts)})}function n(){a.each(o,function(b){a.onScreen(b.dom.$container)&&l(b)})}var r,u=[],o=[],q=!1,t={},p=k(document),s={},w=0;a.on("resize orientationchange",function(b,c){f();if(c.height||c.width)a.delay(function(){a.each(u,
function(a){try{a.resize()}catch(b){i("Carousel "+(a.name?"named "+a.name:"")+" resize handler",b)}})},a.capabilities.mobile||a.capabilities.tablet?100:0)});a.on("a:popover:afterSlideOut",function(){a.each(u,function(a){try{a.resize()}catch(b){i("Carousel "+(a.name?"named "+a.name:"")+" resize handler triggered from afterSlideOut callback",b)}})});a.on("a:carousel:change:name",function(a){if(a.newValue)t[a.newValue]=a.carousel;a.oldValue&&delete t[a.oldValue]});a.on("a:pageUpdate ready",d);a.on("a:pageUpdate",
f);a.on("scroll",function(){d();n()});a.on.ready(function(){q=!0});var v={getCarousel:function(a){a.jquery||(a=k(a));var c=a.closest(".a-carousel-container").data("a-carousel");if(!c){var d=b(a);d&&(c=h(a,d.carouselClass,d.strategies,d.opts))}return c},getCarouselByName:function(a){return t[a]},createAll:function(){f();d()},initializeAll:function(){f();n()},kill:function(b){b.jquery||(b=k(b));if(b.length&&(b=b.closest(".a-carousel-container"),b.length)){var c=b.data("a-carousel");if(c){var d=a.indexOfArray(u,
c);d>-1?(u[d].name&&delete t[u[d].name],u.splice(d,1)):(d=a.indexOfArray(o,c),d>-1&&(o[d].name&&delete t[o[d].name],o.splice(d,1)))}b.remove()}},registerStrategy:function(a,b,c){if(!e[a])e.type={};e[a][b]&&m.error("Attempted to register a "+a+" strategy which already exists: "+b,"a-carousel-framework","registerStrategy");e[a][b]=c;q&&d()},registerCarouselClass:function(a,b){j[a]&&m.error("Attempted to register a carousel class which already exists: "+a,"a-carousel-framework","registerCarouselClass");
k.isFunction(b)||m.error("Attempted to register carousel class "+a+" without a constructor function.","a-carousel-framework","registerCarouselClass");j[a]=b;q&&d()},getAllCarousels:function(){return u.concat(o)},onInit:function(a,b){if(a&&(s[a]||(s[a]=[]),k.isFunction(b))){s[a].push(b);var c=t[a];c&&c.__initialized&&b(c)}}};Object.freeze!==r&&Object.freeze(v);return v})})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUICarousel"):m}());
(function(m){m.execute(function(){})})(function(){var m=window.AmazonUIPageJS||P,a=m.attributeErrors;return a?a("AmazonUI"):m}());